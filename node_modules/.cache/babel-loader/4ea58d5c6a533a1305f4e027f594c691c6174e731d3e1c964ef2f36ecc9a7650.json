{"ast":null,"code":"var _jsxFileName = \"/Users/machome/React Projects/nfl-app/src/components/AllGamesCalendarNFL.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { Box, Card, CardContent, Chip, Stack, Typography, Drawer, Divider, List, ListItem, ListItemText, IconButton, Button, CircularProgress, useMediaQuery, LinearProgress, Tooltip } from \"@mui/material\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport SportsFootballIcon from \"@mui/icons-material/SportsFootball\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TEAM_COLORS = {\n  ARI: \"#97233F\",\n  ATL: \"#A71930\",\n  BAL: \"#241773\",\n  BUF: \"#00338D\",\n  CAR: \"#0085CA\",\n  CHI: \"#0B162A\",\n  CIN: \"#FB4F14\",\n  CLE: \"#311D00\",\n  DAL: \"#041E42\",\n  DEN: \"#FB4F14\",\n  DET: \"#0076B6\",\n  GB: \"#203731\",\n  HOU: \"#03202F\",\n  IND: \"#002C5F\",\n  JAX: \"#9F792C\",\n  KC: \"#E31837\",\n  LV: \"#000000\",\n  LAC: \"#0080C6\",\n  LAR: \"#003594\",\n  MIA: \"#008E97\",\n  MIN: \"#4F2683\",\n  NE: \"#002244\",\n  NO: \"#D3BC8D\",\n  NYG: \"#0B2265\",\n  NYJ: \"#125740\",\n  PHI: \"#004C54\",\n  PIT: \"#101820\",\n  SF: \"#AA0000\",\n  SEA: \"#002244\",\n  TB: \"#D50A0A\",\n  TEN: \"#0C2340\",\n  WSH: \"#5A1414\"\n};\nconst dayName = d => d.toLocaleDateString(undefined, {\n  weekday: \"short\"\n});\nconst monthName = d => d.toLocaleDateString(undefined, {\n  month: \"long\"\n});\nconst fmtTime = iso => new Date(iso).toLocaleTimeString([], {\n  hour: \"numeric\",\n  minute: \"2-digit\"\n});\nconst pad = n => String(n).padStart(2, '0');\nconst keyFromDate = d => `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\nfunction addWeeks(d, n) {\n  const x = new Date(d);\n  x.setDate(x.getDate() + n * 7);\n  return x;\n}\nfunction startOfWeek(d) {\n  const x = new Date(d);\n  const dow = x.getDay(); // Sunday=0\n  x.setDate(x.getDate() - dow);\n  x.setHours(0, 0, 0, 0);\n  return x;\n}\n\n/** ---------- BallDon'tLie helpers (free tier friendly) ---------- **/\n\nconst BDL_API = \"https://api.balldontlie.io/nfl/v1\";\nconst BDL_HEADERS = () => {\n  var _process$env$REACT_AP;\n  const key = (_process$env$REACT_AP = process.env.REACT_APP_BDL_KEY) === null || _process$env$REACT_AP === void 0 ? void 0 : _process$env$REACT_AP.trim();\n  return key ? {\n    Accept: \"application/json\",\n    Authorization: key\n  } : {\n    Accept: \"application/json\"\n  };\n};\n\n// cache results in-memory per page load\n_c = BDL_HEADERS;\nconst teamCache = new Map(); // key: `${abbrev}:${season}` -> { games:[...], ppg, oppg }\n\n/**\n * Fetch recent completed games for a team (current & previous season) and compute\n * average points scored/allowed. Uses only /games, so it stays on the free plan.\n */\nasync function getTeamForm(abbrev, season) {\n  const cacheKey = `${abbrev}:${season}`;\n  if (teamCache.has(cacheKey)) return teamCache.get(cacheKey);\n  const headers = BDL_HEADERS();\n\n  // Helper to fetch one season worth of games for team (paginate by cursor)\n  async function fetchSeasonGames(seasonYear) {\n    const out = [];\n    let cursor = undefined;\n    let safety = 0;\n    do {\n      var _j$meta$next_cursor, _j$meta;\n      const params = new URLSearchParams();\n      params.append(\"seasons[]\", String(seasonYear));\n      params.append(\"team_ids[]\", abbrev); // many APIs accept abbrev; if BDL expects team id, map here.\n      params.set(\"per_page\", \"100\");\n      if (cursor != null) params.set(\"cursor\", String(cursor));\n      const url = `${BDL_API}/games?${params.toString()}`;\n      const r = await fetch(url, {\n        headers\n      });\n      if (!r.ok) {\n        // If the team_ids[] filter wants numeric IDs instead of abbrev, this returns 4xx.\n        // We gracefully bail and return empty; probability will fall back to 50/50 + tiny HFA.\n        break;\n      }\n      const j = await r.json();\n      (j.data || []).forEach(g => out.push(g));\n      cursor = (_j$meta$next_cursor = (_j$meta = j.meta) === null || _j$meta === void 0 ? void 0 : _j$meta.next_cursor) !== null && _j$meta$next_cursor !== void 0 ? _j$meta$next_cursor : null;\n      if (++safety > 8) break; // safety guard\n    } while (cursor != null);\n    return out;\n  }\n\n  // Pull this season and previous season (covers early year with few games)\n  const prevSeason = (Number(season) || new Date().getFullYear()) - 1;\n  const [curr, prev] = await Promise.all([fetchSeasonGames(season), fetchSeasonGames(prevSeason)]);\n\n  // Keep last ~10 completed games\n  const completed = [...curr, ...prev].filter(g => {\n    // Try to detect completed games. Many feeds mark as \"Final\" or include scores.\n    const hasScores = typeof g.home_score === \"number\" && typeof g.visitor_score === \"number\";\n    const looksFinal = (g.status || \"\").toLowerCase().includes(\"final\");\n    return hasScores || looksFinal;\n  }).slice(-10);\n\n  // Compute ppg / oppg relative to the team whether it was home or away\n  let pts = 0,\n    opp = 0,\n    n = 0;\n  for (const g of completed) {\n    var _g$home_team, _g$home_team2, _g$home_score, _g$visitor_score;\n    const isHomeTeam = ((_g$home_team = g.home_team) === null || _g$home_team === void 0 ? void 0 : _g$home_team.abbreviation) === abbrev || ((_g$home_team2 = g.home_team) === null || _g$home_team2 === void 0 ? void 0 : _g$home_team2.id) === abbrev;\n    const hs = Number((_g$home_score = g.home_score) !== null && _g$home_score !== void 0 ? _g$home_score : NaN);\n    const vs = Number((_g$visitor_score = g.visitor_score) !== null && _g$visitor_score !== void 0 ? _g$visitor_score : NaN);\n    if (Number.isNaN(hs) || Number.isNaN(vs)) continue;\n    const teamPts = isHomeTeam ? hs : vs;\n    const oppPts = isHomeTeam ? vs : hs;\n    pts += teamPts;\n    opp += oppPts;\n    n++;\n  }\n  const form = {\n    games: completed,\n    ppg: n ? pts / n : null,\n    oppg: n ? opp / n : null\n  };\n  teamCache.set(cacheKey, form);\n  return form;\n}\n\n/**\n * Simple logistic win probability model:\n *   margin = (home_offense - away_defense) + HFA\n *   prob_home = 1 / (1 + exp(-margin / scale))\n *\n * scale ~= 7 → ~7 points ≈ 70% win\n */\nfunction probFromMargin(margin, scale = 7) {\n  return 1 / (1 + Math.exp(-margin / scale));\n}\n\n/** ---------- Component ---------- **/\n\nexport default function AllGamesCalendarNFL() {\n  _s();\n  var _selected$g$city, _selected$g$state;\n  const [data, setData] = useState(null); // { \"YYYY-MM-DD\": Game[] }\n  const [cursor, setCursor] = useState(() => startOfWeek(new Date()));\n  const [selected, setSelected] = useState(null);\n  const [prob, setProb] = useState(null);\n  const [probLoading, setProbLoading] = useState(false);\n  const [probNote, setProbNote] = useState(\"\");\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\n  const weekOf = useMemo(() => ({\n    from: startOfWeek(cursor),\n    to: addWeeks(startOfWeek(cursor), 1)\n  }), [cursor]);\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      try {\n        const r = await fetch(process.env.PUBLIC_URL + \"/nfl-upcoming-3mo.json\", {\n          cache: \"no-store\"\n        });\n        if (!r.ok) throw new Error(\"schedule fetch failed\");\n        const json = await r.json();\n        if (!cancelled) setData(json || {});\n      } catch {\n        if (!cancelled) setData({});\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n  const days = useMemo(() => {\n    const out = [];\n    const d = new Date(weekOf.from);\n    while (d < weekOf.to) {\n      out.push(new Date(d));\n      d.setDate(d.getDate() + 1);\n    }\n    return out;\n  }, [weekOf]);\n  const gamesFor = d => ((data === null || data === void 0 ? void 0 : data[keyFromDate(d)]) || []).slice().sort((a, b) => new Date(a.kickoff) - new Date(b.kickoff));\n\n  // Compute win probability when a game is opened\n  useEffect(() => {\n    let cancelled = false;\n    async function run() {\n      setProb(null);\n      setProbNote(\"\");\n      if (!(selected !== null && selected !== void 0 && selected.g)) return;\n      setProbLoading(true);\n      try {\n        const g = selected.g;\n        const season = new Date(g.kickoff).getFullYear();\n        const home = g.home;\n        const away = g.away;\n\n        // Fetch recent team forms from BDL\n        const [homeForm, awayForm] = await Promise.all([getTeamForm(home, season), getTeamForm(away, season)]);\n\n        // If we couldn't get any stats, fall back to tiny home advantage only\n        const HFA = 2.0; // ~2 points home-field advantage\n        let note = \"Based on recent scoring averages\";\n        let margin;\n        if (homeForm.ppg != null && awayForm.oppg != null && awayForm.ppg != null && homeForm.oppg != null) {\n          const homeOff = homeForm.ppg;\n          const awayDef = awayForm.oppg;\n          const awayOff = awayForm.ppg;\n          const homeDef = homeForm.oppg;\n\n          // expected margin = (home O vs away D) - (away O vs home D) + HFA\n          margin = homeOff - awayDef - (awayOff - homeDef) + HFA;\n        } else if (homeForm.ppg != null && awayForm.ppg != null) {\n          // use ppg only\n          margin = homeForm.ppg - awayForm.ppg + HFA;\n          note = \"Based on recent points per game\";\n        } else {\n          margin = HFA;\n          note = \"Insufficient recent data; home advantage only\";\n        }\n        const pHome = probFromMargin(margin, 7);\n        if (!cancelled) {\n          setProb({\n            home: pHome,\n            away: 1 - pHome\n          });\n          setProbNote(note);\n        }\n      } catch (e) {\n        if (!cancelled) {\n          setProb(null);\n          setProbNote(\"Could not compute probability (rate limit or data unavailable).\");\n        }\n      } finally {\n        if (!cancelled) setProbLoading(false);\n      }\n    }\n    run();\n    return () => {\n      cancelled = true;\n    };\n  }, [selected]);\n  const DayCard = ({\n    d\n  }) => {\n    const games = gamesFor(d);\n    return /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        minWidth: isMobile ? 260 : 'auto',\n        flex: isMobile ? \"0 0 auto\" : \"initial\",\n        backgroundColor: \"background.paper\",\n        border: 1,\n        borderColor: \"rgba(255,255,255,.08)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              fontWeight: 600\n            },\n            children: [dayName(d), \" \", d.getDate()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            size: \"small\",\n            label: `${games.length} ${games.length === 1 ? 'Game' : 'Games'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          gap: 1,\n          children: [games.length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              opacity: .7\n            },\n            children: \"No games\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), games.map((g, idx) => /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setSelected({\n              g,\n              d\n            }),\n            fullWidth: true,\n            sx: {\n              justifyContent: \"space-between\",\n              p: 1.2,\n              border: 1,\n              borderColor: \"rgba(255,255,255,.08)\",\n              bgcolor: \"rgba(255,255,255,.03)\",\n              textTransform: \"none\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              alignItems: \"center\",\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 10,\n                  height: 10,\n                  bgcolor: TEAM_COLORS[g.home] || \"#999\",\n                  borderRadius: \"50%\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [g.away, \" @ \", g.home]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              alignItems: \"center\",\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(SportsFootballIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: fmtTime(g.kickoff)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)\n    }, +d, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      alignItems: \"center\",\n      gap: 1,\n      sx: {\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => setCursor(addWeeks(cursor, -1)),\n        children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 67\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        sx: {\n          letterSpacing: 1,\n          flex: 1\n        },\n        children: [\"Week of \", monthName(weekOf.from), \" \", weekOf.from.getDate(), \", \", weekOf.from.getFullYear()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => setCursor(addWeeks(cursor, 1)),\n        children: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), data === null ? /*#__PURE__*/_jsxDEV(Stack, {\n      alignItems: \"center\",\n      sx: {\n        py: 6,\n        opacity: .8\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 28\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          mt: 1\n        },\n        children: \"Loading schedule\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: isMobile ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          gap: 2,\n          overflowX: \"auto\",\n          pb: 1,\n          px: 0.5,\n          scrollSnapType: \"x mandatory\"\n        },\n        children: days.map(d => /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            scrollSnapAlign: \"start\"\n          },\n          children: /*#__PURE__*/_jsxDEV(DayCard, {\n            d: d\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 19\n          }, this)\n        }, +d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        gap: 2,\n        sx: {\n          display: \"grid\",\n          gridTemplateColumns: `repeat(${days.length}, 1fr)`\n        },\n        children: days.map(d => /*#__PURE__*/_jsxDEV(DayCard, {\n          d: d\n        }, +d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 31\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }, this)\n    }, void 0, false), /*#__PURE__*/_jsxDEV(Drawer, {\n      anchor: \"right\",\n      open: !!selected,\n      onClose: () => setSelected(null),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: 360,\n          p: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Game Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setSelected(null),\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), selected && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            sx: {\n              mb: 1\n            },\n            children: [selected.g.away, \" @ \", selected.g.home]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              mb: 1\n            },\n            children: new Date(selected.g.kickoff).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            gap: 1,\n            sx: {\n              mb: 1\n            },\n            children: [selected.g.week && /*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: `Week ${selected.g.week}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 37\n            }, this), selected.g.tv && /*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: selected.g.tv\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              my: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                mb: 0.5\n              },\n              children: \"Win probability (BallDon\\u2019tLie, simple model)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), probLoading && /*#__PURE__*/_jsxDEV(LinearProgress, {\n              sx: {\n                height: 6,\n                borderRadius: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 33\n            }, this), !probLoading && prob && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                sx: {\n                  mb: 0.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: selected.g.home\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    fontWeight: 600\n                  },\n                  children: [(prob.home * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n                variant: \"determinate\",\n                value: Math.max(0, Math.min(100, prob.home * 100)),\n                sx: {\n                  height: 10,\n                  borderRadius: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  display: \"block\",\n                  mt: 0.5,\n                  opacity: .8\n                },\n                children: probNote\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), !probLoading && prob === null && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                opacity: .8\n              },\n              children: \"Win probability unavailable (rate limit or not enough recent games).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            children: [selected.g.venue && /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Venue\",\n                secondary: selected.g.venue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this), (selected.g.city || selected.g.state) && /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Location\",\n                secondary: `${(_selected$g$city = selected.g.city) !== null && _selected$g$city !== void 0 ? _selected$g$city : \"\"} ${(_selected$g$state = selected.g.state) !== null && _selected$g$state !== void 0 ? _selected$g$state : \"\"}`.trim()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n}\n_s(AllGamesCalendarNFL, \"ojqYYfCiR5bmbkgkfoiQdweFJlg=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n_c2 = AllGamesCalendarNFL;\nvar _c, _c2;\n$RefreshReg$(_c, \"BDL_HEADERS\");\n$RefreshReg$(_c2, \"AllGamesCalendarNFL\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useRef","Box","Card","CardContent","Chip","Stack","Typography","Drawer","Divider","List","ListItem","ListItemText","IconButton","Button","CircularProgress","useMediaQuery","LinearProgress","Tooltip","ChevronLeftIcon","ChevronRightIcon","CloseIcon","SportsFootballIcon","useTheme","jsxDEV","_jsxDEV","Fragment","_Fragment","TEAM_COLORS","ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAX","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WSH","dayName","d","toLocaleDateString","undefined","weekday","monthName","month","fmtTime","iso","Date","toLocaleTimeString","hour","minute","pad","n","String","padStart","keyFromDate","getFullYear","getMonth","getDate","addWeeks","x","setDate","startOfWeek","dow","getDay","setHours","BDL_API","BDL_HEADERS","_process$env$REACT_AP","key","process","env","REACT_APP_BDL_KEY","trim","Accept","Authorization","_c","teamCache","Map","getTeamForm","abbrev","season","cacheKey","has","get","headers","fetchSeasonGames","seasonYear","out","cursor","safety","_j$meta$next_cursor","_j$meta","params","URLSearchParams","append","set","url","toString","r","fetch","ok","j","json","data","forEach","g","push","meta","next_cursor","prevSeason","Number","curr","prev","Promise","all","completed","filter","hasScores","home_score","visitor_score","looksFinal","status","toLowerCase","includes","slice","pts","opp","_g$home_team","_g$home_team2","_g$home_score","_g$visitor_score","isHomeTeam","home_team","abbreviation","id","hs","NaN","vs","isNaN","teamPts","oppPts","form","games","ppg","oppg","probFromMargin","margin","scale","Math","exp","AllGamesCalendarNFL","_s","_selected$g$city","_selected$g$state","setData","setCursor","selected","setSelected","prob","setProb","probLoading","setProbLoading","probNote","setProbNote","theme","isMobile","breakpoints","down","weekOf","from","to","cancelled","PUBLIC_URL","cache","Error","days","gamesFor","sort","a","b","kickoff","run","home","away","homeForm","awayForm","HFA","note","homeOff","awayDef","awayOff","homeDef","pHome","e","DayCard","sx","minWidth","flex","backgroundColor","border","borderColor","children","direction","justifyContent","alignItems","mb","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","size","label","length","gap","opacity","map","idx","onClick","fullWidth","p","bgcolor","textTransform","width","height","borderRadius","fontSize","letterSpacing","py","mt","display","overflowX","pb","px","scrollSnapType","scrollSnapAlign","gridTemplateColumns","anchor","open","onClose","toLocaleString","week","tv","my","toFixed","value","max","min","dense","venue","primary","secondary","city","state","_c2","$RefreshReg$"],"sources":["/Users/machome/React Projects/nfl-app/src/components/AllGamesCalendarNFL.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport {\n  Box, Card, CardContent, Chip, Stack, Typography, Drawer, Divider,\n  List, ListItem, ListItemText, IconButton, Button, CircularProgress, useMediaQuery, LinearProgress, Tooltip\n} from \"@mui/material\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport SportsFootballIcon from \"@mui/icons-material/SportsFootball\";\nimport { useTheme } from \"@mui/material/styles\";\n\nconst TEAM_COLORS = {\n  ARI:\"#97233F\", ATL:\"#A71930\", BAL:\"#241773\", BUF:\"#00338D\", CAR:\"#0085CA\",\n  CHI:\"#0B162A\", CIN:\"#FB4F14\", CLE:\"#311D00\", DAL:\"#041E42\", DEN:\"#FB4F14\",\n  DET:\"#0076B6\", GB:\"#203731\", HOU:\"#03202F\", IND:\"#002C5F\", JAX:\"#9F792C\",\n  KC:\"#E31837\", LV:\"#000000\", LAC:\"#0080C6\", LAR:\"#003594\", MIA:\"#008E97\",\n  MIN:\"#4F2683\", NE:\"#002244\", NO:\"#D3BC8D\", NYG:\"#0B2265\", NYJ:\"#125740\",\n  PHI:\"#004C54\", PIT:\"#101820\", SF:\"#AA0000\", SEA:\"#002244\", TB:\"#D50A0A\",\n  TEN:\"#0C2340\", WSH:\"#5A1414\"\n};\n\nconst dayName = d => d.toLocaleDateString(undefined,{weekday:\"short\"});\nconst monthName = d => d.toLocaleDateString(undefined,{month:\"long\"});\nconst fmtTime = iso => new Date(iso).toLocaleTimeString([], {hour:\"numeric\", minute:\"2-digit\"});\nconst pad = n => String(n).padStart(2,'0');\nconst keyFromDate = d => `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;\n\nfunction addWeeks(d,n){ const x=new Date(d); x.setDate(x.getDate()+n*7); return x; }\nfunction startOfWeek(d){\n  const x = new Date(d);\n  const dow = x.getDay(); // Sunday=0\n  x.setDate(x.getDate() - dow);\n  x.setHours(0,0,0,0);\n  return x;\n}\n\n/** ---------- BallDon'tLie helpers (free tier friendly) ---------- **/\n\nconst BDL_API = \"https://api.balldontlie.io/nfl/v1\";\nconst BDL_HEADERS = () => {\n  const key = process.env.REACT_APP_BDL_KEY?.trim();\n  return key ? { Accept: \"application/json\", Authorization: key } : { Accept: \"application/json\" };\n};\n\n// cache results in-memory per page load\nconst teamCache = new Map(); // key: `${abbrev}:${season}` -> { games:[...], ppg, oppg }\n\n/**\n * Fetch recent completed games for a team (current & previous season) and compute\n * average points scored/allowed. Uses only /games, so it stays on the free plan.\n */\nasync function getTeamForm(abbrev, season) {\n  const cacheKey = `${abbrev}:${season}`;\n  if (teamCache.has(cacheKey)) return teamCache.get(cacheKey);\n\n  const headers = BDL_HEADERS();\n\n  // Helper to fetch one season worth of games for team (paginate by cursor)\n  async function fetchSeasonGames(seasonYear) {\n    const out = [];\n    let cursor = undefined;\n    let safety = 0;\n    do {\n      const params = new URLSearchParams();\n      params.append(\"seasons[]\", String(seasonYear));\n      params.append(\"team_ids[]\", abbrev);           // many APIs accept abbrev; if BDL expects team id, map here.\n      params.set(\"per_page\", \"100\");\n      if (cursor != null) params.set(\"cursor\", String(cursor));\n\n      const url = `${BDL_API}/games?${params.toString()}`;\n      const r = await fetch(url, { headers });\n      if (!r.ok) {\n        // If the team_ids[] filter wants numeric IDs instead of abbrev, this returns 4xx.\n        // We gracefully bail and return empty; probability will fall back to 50/50 + tiny HFA.\n        break;\n      }\n      const j = await r.json();\n      (j.data || []).forEach(g => out.push(g));\n      cursor = j.meta?.next_cursor ?? null;\n      if (++safety > 8) break; // safety guard\n    } while (cursor != null);\n    return out;\n  }\n\n  // Pull this season and previous season (covers early year with few games)\n  const prevSeason = (Number(season) || new Date().getFullYear()) - 1;\n  const [curr, prev] = await Promise.all([\n    fetchSeasonGames(season),\n    fetchSeasonGames(prevSeason)\n  ]);\n\n  // Keep last ~10 completed games\n  const completed = [...curr, ...prev]\n    .filter(g => {\n      // Try to detect completed games. Many feeds mark as \"Final\" or include scores.\n      const hasScores = typeof g.home_score === \"number\" && typeof g.visitor_score === \"number\";\n      const looksFinal = (g.status || \"\").toLowerCase().includes(\"final\");\n      return hasScores || looksFinal;\n    })\n    .slice(-10);\n\n  // Compute ppg / oppg relative to the team whether it was home or away\n  let pts = 0, opp = 0, n = 0;\n  for (const g of completed) {\n    const isHomeTeam = (g.home_team?.abbreviation === abbrev) || (g.home_team?.id === abbrev);\n    const hs = Number(g.home_score ?? NaN);\n    const vs = Number(g.visitor_score ?? NaN);\n    if (Number.isNaN(hs) || Number.isNaN(vs)) continue;\n    const teamPts = isHomeTeam ? hs : vs;\n    const oppPts  = isHomeTeam ? vs : hs;\n    pts += teamPts; opp += oppPts; n++;\n  }\n\n  const form = {\n    games: completed,\n    ppg: n ? pts / n : null,\n    oppg: n ? opp / n : null\n  };\n  teamCache.set(cacheKey, form);\n  return form;\n}\n\n/**\n * Simple logistic win probability model:\n *   margin = (home_offense - away_defense) + HFA\n *   prob_home = 1 / (1 + exp(-margin / scale))\n *\n * scale ~= 7 → ~7 points ≈ 70% win\n */\nfunction probFromMargin(margin, scale = 7) {\n  return 1 / (1 + Math.exp(-margin / scale));\n}\n\n/** ---------- Component ---------- **/\n\nexport default function AllGamesCalendarNFL(){\n  const [data, setData] = useState(null);      // { \"YYYY-MM-DD\": Game[] }\n  const [cursor, setCursor] = useState(()=> startOfWeek(new Date()));\n  const [selected, setSelected] = useState(null);\n  const [prob, setProb] = useState(null);\n  const [probLoading, setProbLoading] = useState(false);\n  const [probNote, setProbNote] = useState(\"\");\n\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const weekOf = useMemo(()=>({\n    from: startOfWeek(cursor),\n    to: addWeeks(startOfWeek(cursor),1)\n  }),[cursor]);\n\n  useEffect(()=> {\n    let cancelled=false;\n    (async()=>{\n      try{\n        const r = await fetch(process.env.PUBLIC_URL + \"/nfl-upcoming-3mo.json\", { cache:\"no-store\" });\n        if (!r.ok) throw new Error(\"schedule fetch failed\");\n        const json = await r.json();\n        if(!cancelled) setData(json || {});\n      }catch{\n        if(!cancelled) setData({});\n      }\n    })();\n    return ()=>{cancelled=true};\n  },[]);\n\n  const days = useMemo(()=>{\n    const out=[]; const d=new Date(weekOf.from);\n    while(d<weekOf.to){ out.push(new Date(d)); d.setDate(d.getDate()+1); }\n    return out;\n  },[weekOf]);\n\n  const gamesFor = (d)=> (data?.[keyFromDate(d)] || [])\n    .slice().sort((a,b)=> new Date(a.kickoff) - new Date(b.kickoff));\n\n  // Compute win probability when a game is opened\n  useEffect(()=>{\n    let cancelled = false;\n    async function run(){\n      setProb(null);\n      setProbNote(\"\");\n      if (!selected?.g) return;\n      setProbLoading(true);\n      try {\n        const g = selected.g;\n        const season = new Date(g.kickoff).getFullYear();\n        const home = g.home;\n        const away = g.away;\n\n        // Fetch recent team forms from BDL\n        const [homeForm, awayForm] = await Promise.all([\n          getTeamForm(home, season),\n          getTeamForm(away, season)\n        ]);\n\n        // If we couldn't get any stats, fall back to tiny home advantage only\n        const HFA = 2.0; // ~2 points home-field advantage\n        let note = \"Based on recent scoring averages\";\n        let margin;\n\n        if (homeForm.ppg != null && awayForm.oppg != null && awayForm.ppg != null && homeForm.oppg != null) {\n          const homeOff = homeForm.ppg;\n          const awayDef = awayForm.oppg;\n          const awayOff = awayForm.ppg;\n          const homeDef = homeForm.oppg;\n\n          // expected margin = (home O vs away D) - (away O vs home D) + HFA\n          margin = (homeOff - awayDef) - (awayOff - homeDef) + HFA;\n        } else if (homeForm.ppg != null && awayForm.ppg != null) {\n          // use ppg only\n          margin = (homeForm.ppg - awayForm.ppg) + HFA;\n          note = \"Based on recent points per game\";\n        } else {\n          margin = HFA;\n          note = \"Insufficient recent data; home advantage only\";\n        }\n\n        const pHome = probFromMargin(margin, 7);\n        if (!cancelled) {\n          setProb({ home: pHome, away: 1 - pHome });\n          setProbNote(note);\n        }\n      } catch (e) {\n        if (!cancelled) {\n          setProb(null);\n          setProbNote(\"Could not compute probability (rate limit or data unavailable).\");\n        }\n      } finally {\n        if (!cancelled) setProbLoading(false);\n      }\n    }\n    run();\n    return ()=>{ cancelled = true; };\n  }, [selected]);\n\n  const DayCard = ({ d }) => {\n    const games = gamesFor(d);\n    return (\n      <Card\n        key={+d}\n        sx={{\n          minWidth: isMobile ? 260 : 'auto',\n          flex: isMobile ? \"0 0 auto\" : \"initial\",\n          backgroundColor:\"background.paper\",\n          border:1, borderColor:\"rgba(255,255,255,.08)\"\n        }}\n      >\n        <CardContent>\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb:1 }}>\n            <Typography variant=\"subtitle1\" sx={{ fontWeight:600 }}>\n              {dayName(d)} {d.getDate()}\n            </Typography>\n            <Chip size=\"small\" label={`${games.length} ${games.length===1?'Game':'Games'}`} />\n          </Stack>\n\n          <Stack gap={1}>\n            {games.length === 0 && (\n              <Typography variant=\"body2\" sx={{ opacity:.7 }}>No games</Typography>\n            )}\n            {games.map((g, idx)=> (\n              <Button key={idx} onClick={()=> setSelected({ g, d })} fullWidth\n                sx={{\n                  justifyContent:\"space-between\", p:1.2,\n                  border:1, borderColor:\"rgba(255,255,255,.08)\",\n                  bgcolor:\"rgba(255,255,255,.03)\", textTransform:\"none\"\n                }}>\n                <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n                  <Box sx={{ width:10, height:10, bgcolor: TEAM_COLORS[g.home]||\"#999\", borderRadius:\"50%\" }} />\n                  <Typography>{g.away} @ {g.home}</Typography>\n                </Stack>\n                <Stack direction=\"row\" alignItems=\"center\" gap={1}>\n                  <SportsFootballIcon fontSize=\"small\"/>\n                  <Typography variant=\"body2\">{fmtTime(g.kickoff)}</Typography>\n                </Stack>\n              </Button>\n            ))}\n          </Stack>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  return (\n    <Box>\n      <Stack direction=\"row\" alignItems=\"center\" gap={1} sx={{ mb:2 }}>\n        <IconButton onClick={()=> setCursor(addWeeks(cursor,-1))}><ChevronLeftIcon/></IconButton>\n        <Typography variant=\"h5\" sx={{ letterSpacing:1, flex:1 }}>\n          Week of {monthName(weekOf.from)} {weekOf.from.getDate()}, {weekOf.from.getFullYear()}\n        </Typography>\n        <IconButton onClick={()=> setCursor(addWeeks(cursor,1))}><ChevronRightIcon/></IconButton>\n      </Stack>\n\n      {data === null ? (\n        <Stack alignItems=\"center\" sx={{ py:6, opacity:.8 }}>\n          <CircularProgress size={28} />\n          <Typography sx={{ mt:1 }}>Loading schedule…</Typography>\n        </Stack>\n      ) : (\n        <>\n          {isMobile ? (\n            <Box sx={{ display:\"flex\", gap:2, overflowX:\"auto\", pb:1, px:0.5, scrollSnapType:\"x mandatory\" }}>\n              {days.map((d)=> (\n                <Box key={+d} sx={{ scrollSnapAlign:\"start\" }}>\n                  <DayCard d={d} />\n                </Box>\n              ))}\n            </Box>\n          ) : (\n            <Stack direction=\"row\" gap={2} sx={{ display:\"grid\", gridTemplateColumns:`repeat(${days.length}, 1fr)` }}>\n              {days.map((d)=> <DayCard key={+d} d={d} />)}\n            </Stack>\n          )}\n        </>\n      )}\n\n      <Drawer anchor=\"right\" open={!!selected} onClose={()=> setSelected(null)}>\n        <Box sx={{ width: 360, p:2 }}>\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb:1 }}>\n            <Typography variant=\"h6\">Game Details</Typography>\n            <IconButton onClick={()=> setSelected(null)}><CloseIcon /></IconButton>\n          </Stack>\n          <Divider sx={{ mb:2 }} />\n\n          {selected && (\n            <>\n              <Typography variant=\"h5\" sx={{ mb:1 }}>\n                {selected.g.away} @ {selected.g.home}\n              </Typography>\n              <Typography sx={{ mb:1 }}>{new Date(selected.g.kickoff).toLocaleString()}</Typography>\n              <Stack direction=\"row\" gap={1} sx={{ mb:1 }}>\n                {selected.g.week && <Chip size=\"small\" label={`Week ${selected.g.week}`} />}\n                {selected.g.tv && <Chip size=\"small\" label={selected.g.tv} />}\n              </Stack>\n\n              {/* Win probability block */}\n              <Box sx={{ my:2 }}>\n                <Typography variant=\"subtitle2\" sx={{ mb:0.5 }}>\n                  Win probability (BallDon’tLie, simple model)\n                </Typography>\n\n                {probLoading && <LinearProgress sx={{ height:6, borderRadius:1 }} />}\n\n                {!probLoading && prob && (\n                  <>\n                    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb:0.5 }}>\n                      <Typography variant=\"body2\">{selected.g.home}</Typography>\n                      <Typography variant=\"body2\" sx={{ fontWeight:600 }}>\n                        {(prob.home * 100).toFixed(1)}%\n                      </Typography>\n                    </Stack>\n                    <LinearProgress\n                      variant=\"determinate\"\n                      value={Math.max(0, Math.min(100, prob.home * 100))}\n                      sx={{ height:10, borderRadius:1 }}\n                    />\n                    <Typography variant=\"caption\" sx={{ display:\"block\", mt:0.5, opacity:.8 }}>\n                      {probNote}\n                    </Typography>\n                  </>\n                )}\n\n                {!probLoading && prob === null && (\n                  <Typography variant=\"body2\" sx={{ opacity:.8 }}>\n                    Win probability unavailable (rate limit or not enough recent games).\n                  </Typography>\n                )}\n              </Box>\n\n              <List dense>\n                {selected.g.venue && (\n                  <ListItem><ListItemText primary=\"Venue\" secondary={selected.g.venue} /></ListItem>\n                )}\n                {(selected.g.city || selected.g.state) && (\n                  <ListItem><ListItemText primary=\"Location\" secondary={`${selected.g.city??\"\"} ${selected.g.state??\"\"}`.trim()} /></ListItem>\n                )}\n              </List>\n            </>\n          )}\n        </Box>\n      </Drawer>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}