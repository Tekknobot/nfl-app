{"ast":null,"code":"var _jsxFileName = \"/Users/machome/React Projects/nfl-app/src/components/AllGamesCalendarNFL.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Box, Card, CardContent, Chip, Stack, Typography, Drawer, Divider, List, ListItem, ListItemText, IconButton, Button, CircularProgress, useMediaQuery, LinearProgress, Switch, FormControlLabel, Tooltip } from \"@mui/material\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport SportsFootballIcon from \"@mui/icons-material/SportsFootball\";\nimport TodayIcon from \"@mui/icons-material/Today\";\nimport { useTheme } from \"@mui/material/styles\";\n\n/* ---------- UI helpers ---------- */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TEAM_COLORS = {\n  ARI: \"#97233F\",\n  ATL: \"#A71930\",\n  BAL: \"#241773\",\n  BUF: \"#00338D\",\n  CAR: \"#0085CA\",\n  CHI: \"#0B162A\",\n  CIN: \"#FB4F14\",\n  CLE: \"#311D00\",\n  DAL: \"#041E42\",\n  DEN: \"#FB4F14\",\n  DET: \"#0076B6\",\n  GB: \"#203731\",\n  HOU: \"#03202F\",\n  IND: \"#002C5F\",\n  JAX: \"#9F792C\",\n  KC: \"#E31837\",\n  LV: \"#000000\",\n  LAC: \"#0080C6\",\n  LAR: \"#003594\",\n  MIA: \"#008E97\",\n  MIN: \"#4F2683\",\n  NE: \"#002244\",\n  NO: \"#D3BC8D\",\n  NYG: \"#0B2265\",\n  NYJ: \"#125740\",\n  PHI: \"#004C54\",\n  PIT: \"#101820\",\n  SF: \"#AA0000\",\n  SEA: \"#002244\",\n  TB: \"#D50A0A\",\n  TEN: \"#0C2340\",\n  WSH: \"#5A1414\"\n};\nconst dayName = d => d.toLocaleDateString(undefined, {\n  weekday: \"short\"\n});\nconst monthName = d => d.toLocaleDateString(undefined, {\n  month: \"long\"\n});\nconst fmtTime = iso => new Date(iso).toLocaleTimeString([], {\n  hour: \"numeric\",\n  minute: \"2-digit\"\n});\nconst pad = n => String(n).padStart(2, '0');\nconst keyFromDate = d => `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\nfunction addWeeks(d, n) {\n  const x = new Date(d);\n  x.setDate(x.getDate() + n * 7);\n  return x;\n}\nfunction startOfWeek(d) {\n  const x = new Date(d);\n  const dow = x.getDay(); // Sunday=0\n  x.setDate(x.getDate() - dow);\n  x.setHours(0, 0, 0, 0);\n  return x;\n}\n\n/* ---------- BallDon’tLie client (free-plan friendly) ---------- */\nconst BDL_API = \"https://api.balldontlie.io/nfl/v1\";\n// REACT_APP_BDL_KEY must be set in .env (client). Header is literally Authorization: YOUR_KEY (no \"Bearer\").\nconst bdlHeaders = () => {\n  var _process$env$REACT_AP;\n  const key = (_process$env$REACT_AP = process.env.REACT_APP_BDL_KEY) === null || _process$env$REACT_AP === void 0 ? void 0 : _process$env$REACT_AP.trim();\n  return key ? {\n    Accept: \"application/json\",\n    Authorization: key\n  } : {\n    Accept: \"application/json\"\n  };\n};\n\n// Cache for /teams and per-team forms.\nlet TEAMS_MAP_PROMISE = null; // Promise<Map<abbrev, id>>\nconst teamFormCache = new Map(); // `${teamId}:${season}` -> {ppg,oppg}\n\nasync function getTeamsMap() {\n  if (!TEAMS_MAP_PROMISE) {\n    const r = await fetch(`${BDL_API}/teams`, {\n      headers: bdlHeaders()\n    });\n    if (!r.ok) throw new Error(\"Failed to load teams\");\n    const j = await r.json();\n    const map = new Map();\n    for (const t of j.data || []) {\n      // Expect fields like { id, abbreviation, name }\n      if (t.abbreviation && t.id != null) map.set(t.abbreviation.toUpperCase(), String(t.id));\n    }\n    TEAMS_MAP_PROMISE = Promise.resolve(map);\n  }\n  return TEAMS_MAP_PROMISE;\n}\nasync function fetchTeamGamesForSeason(teamId, seasonYear) {\n  const out = [];\n  let cursor;\n  let guard = 0;\n  do {\n    var _j$meta$next_cursor, _j$meta;\n    const p = new URLSearchParams();\n    p.append(\"seasons[]\", String(seasonYear));\n    p.append(\"team_ids[]\", String(teamId));\n    p.set(\"per_page\", \"100\");\n    if (cursor != null) p.set(\"cursor\", String(cursor));\n    const r = await fetch(`${BDL_API}/games?${p.toString()}`, {\n      headers: bdlHeaders()\n    });\n    if (!r.ok) break; // gracefully bail; model will fallback\n    const j = await r.json();\n    out.push(...(j.data || []));\n    cursor = (_j$meta$next_cursor = (_j$meta = j.meta) === null || _j$meta === void 0 ? void 0 : _j$meta.next_cursor) !== null && _j$meta$next_cursor !== void 0 ? _j$meta$next_cursor : null;\n    if (++guard > 8) break; // safety\n  } while (cursor != null);\n  return out;\n}\nfunction isFinalGame(g) {\n  const hasScores = typeof g.home_score === \"number\" && typeof g.visitor_score === \"number\";\n  const looksFinal = (g.status || \"\").toLowerCase().includes(\"final\");\n  return hasScores || looksFinal;\n}\n\n/** Compute a team’s simple form (PPG/OPPG) from recent finals across season & previous season. */\nasync function getTeamFormFromPastGames(teamAbbrev, season) {\n  const teams = await getTeamsMap();\n  const id = teams.get(String(teamAbbrev).toUpperCase());\n  if (!id) return {\n    ppg: null,\n    oppg: null\n  };\n  const cacheKey = `${id}:${season}`;\n  if (teamFormCache.has(cacheKey)) return teamFormCache.get(cacheKey);\n  const prevSeason = (Number(season) || new Date().getFullYear()) - 1;\n  const [curr, prev] = await Promise.all([fetchTeamGamesForSeason(id, season), fetchTeamGamesForSeason(id, prevSeason)]);\n  const finals = [...curr, ...prev].filter(isFinalGame).slice(-10);\n  let pts = 0,\n    opp = 0,\n    n = 0;\n  for (const g of finals) {\n    var _g$home_team, _g$home_team2, _g$home_score, _g$visitor_score;\n    const isHome = String((_g$home_team = g.home_team) === null || _g$home_team === void 0 ? void 0 : _g$home_team.id) === String(id) || ((_g$home_team2 = g.home_team) === null || _g$home_team2 === void 0 ? void 0 : _g$home_team2.abbreviation) === teamAbbrev;\n    const hs = Number((_g$home_score = g.home_score) !== null && _g$home_score !== void 0 ? _g$home_score : NaN);\n    const vs = Number((_g$visitor_score = g.visitor_score) !== null && _g$visitor_score !== void 0 ? _g$visitor_score : NaN);\n    if (Number.isNaN(hs) || Number.isNaN(vs)) continue;\n    const teamPts = isHome ? hs : vs;\n    const oppPts = isHome ? vs : hs;\n    pts += teamPts;\n    opp += oppPts;\n    n++;\n  }\n  const form = {\n    ppg: n ? pts / n : null,\n    oppg: n ? opp / n : null\n  };\n  teamFormCache.set(cacheKey, form);\n  return form;\n}\n\n// Logistic transform: margin (in points) → probability [0..1].\n// scale≈7 → ~7 points ≈ 70% win probability.\nfunction probFromMargin(margin, scale = 7) {\n  return 1 / (1 + Math.exp(-margin / scale));\n}\n\n/* ---------- Component ---------- */\nexport default function AllGamesCalendarNFL() {\n  _s();\n  var _selected$g$city, _selected$g$state;\n  const [data, setData] = useState(null); // { \"YYYY-MM-DD\": Game[] }\n  const [cursor, setCursor] = useState(() => startOfWeek(new Date()));\n  const [selected, setSelected] = useState(null);\n\n  // probability state\n  const [prob, setProb] = useState(null); // { home, away } or null\n  const [probLoading, setProbLoading] = useState(false);\n  const [probNote, setProbNote] = useState(\"\");\n\n  // mobile tuning\n  const [hideEmptyDays, setHideEmptyDays] = useState(true);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\n  const weekTopRef = useRef(null);\n  const weekOf = useMemo(() => ({\n    from: startOfWeek(cursor),\n    to: addWeeks(startOfWeek(cursor), 1)\n  }), [cursor]);\n\n  // Load schedule JSON\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      try {\n        const r = await fetch(process.env.PUBLIC_URL + \"/nfl-upcoming-3mo.json\", {\n          cache: \"no-store\"\n        });\n        if (!r.ok) throw new Error(\"schedule fetch failed\");\n        const json = await r.json();\n        if (!cancelled) setData(json || {});\n      } catch {\n        if (!cancelled) setData({});\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n  const days = useMemo(() => {\n    const out = [];\n    const d = new Date(weekOf.from);\n    while (d < weekOf.to) {\n      out.push(new Date(d));\n      d.setDate(d.getDate() + 1);\n    }\n    return out;\n  }, [weekOf]);\n  const gamesFor = d => ((data === null || data === void 0 ? void 0 : data[keyFromDate(d)]) || []).slice().sort((a, b) => new Date(a.kickoff) - new Date(b.kickoff));\n\n  // Scroll to first day with games (mobile)\n  useEffect(() => {\n    if (!isMobile || !data) return;\n    // wait for DOM paint\n    setTimeout(() => {\n      const firstWithGames = days.find(d => gamesFor(d).length > 0);\n      if (!firstWithGames) return;\n      const el = document.querySelector(`[data-day-key=\"${keyFromDate(firstWithGames)}\"]`);\n      if (el && weekTopRef.current) {\n        const top = el.getBoundingClientRect().top + window.scrollY - 72; // header offset\n        window.scrollTo({\n          top,\n          behavior: \"smooth\"\n        });\n      }\n    }, 10);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMobile, data, weekOf.from.getTime()]);\n\n  // When a game is opened, compute win probability using past games (free plan)\n  useEffect(() => {\n    let cancelled = false;\n    async function computeProb() {\n      setProb(null);\n      setProbNote(\"\");\n      if (!(selected !== null && selected !== void 0 && selected.g)) return;\n      setProbLoading(true);\n      try {\n        const g = selected.g;\n        const season = new Date(g.kickoff).getFullYear();\n        const homeAbbr = g.home;\n        const awayAbbr = g.away;\n        const [homeForm, awayForm] = await Promise.all([getTeamFormFromPastGames(homeAbbr, season), getTeamFormFromPastGames(awayAbbr, season)]);\n        const HFA = 2.0; // home-field advantage in points\n        let note = \"Based on recent completed games (this & last season)\";\n        let margin;\n        if (homeForm.ppg != null && homeForm.oppg != null && awayForm.ppg != null && awayForm.oppg != null) {\n          const homeOff = homeForm.ppg;\n          const awayDef = awayForm.oppg;\n          const awayOff = awayForm.ppg;\n          const homeDef = homeForm.oppg;\n          margin = homeOff - awayDef - (awayOff - homeDef) + HFA;\n        } else if (homeForm.ppg != null && awayForm.ppg != null) {\n          margin = homeForm.ppg - awayForm.ppg + HFA;\n          note = \"Based on recent points per game (limited finals available)\";\n        } else {\n          margin = HFA;\n          note = \"Insufficient past-game data; home advantage only\";\n        }\n        const pHome = probFromMargin(margin, 7);\n        if (!cancelled) {\n          setProb({\n            home: pHome,\n            away: 1 - pHome\n          });\n          setProbNote(note);\n        }\n      } catch (e) {\n        if (!cancelled) {\n          setProb(null);\n          setProbNote(\"Could not compute probability (data unavailable or rate-limited).\");\n        }\n      } finally {\n        if (!cancelled) setProbLoading(false);\n      }\n    }\n    computeProb();\n    return () => {\n      cancelled = true;\n    };\n  }, [selected]);\n\n  /* ---------- Day card (mobile & desktop variants) ---------- */\n  function DayCard({\n    d\n  }) {\n    const games = gamesFor(d);\n    if (hideEmptyDays && isMobile && games.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      \"data-day-key\": keyFromDate(d),\n      sx: {\n        backgroundColor: \"background.paper\",\n        border: 1,\n        borderColor: \"rgba(255,255,255,.08)\",\n        ...(isMobile ? {\n          mb: 2,\n          borderRadius: 3,\n          boxShadow: \"rgba(0,0,0,.25) 0 6px 14px -6px\"\n        } : {})\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          p: isMobile ? 1.25 : 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: isMobile ? \"subtitle1\" : \"h6\",\n            sx: {\n              fontWeight: 600\n            },\n            children: [dayName(d), \" \", d.getDate()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            size: \"small\",\n            label: `${games.length} ${games.length === 1 ? 'Game' : 'Games'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          gap: isMobile ? 0.75 : 1,\n          children: [games.length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              opacity: .7\n            },\n            children: \"No games\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), games.map((g, idx) => /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setSelected({\n              g,\n              d\n            }),\n            fullWidth: true,\n            sx: {\n              justifyContent: \"space-between\",\n              p: isMobile ? 1 : 1.2,\n              border: 1,\n              borderColor: \"rgba(255,255,255,.10)\",\n              bgcolor: \"rgba(255,255,255,.05)\",\n              textTransform: \"none\",\n              borderRadius: 2,\n              minHeight: 52\n            },\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              alignItems: \"center\",\n              gap: 1.25,\n              sx: {\n                minWidth: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 12,\n                  height: 12,\n                  bgcolor: TEAM_COLORS[g.home] || \"#999\",\n                  borderRadius: \"50%\",\n                  flexShrink: 0\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                sx: {\n                  fontWeight: 600,\n                  letterSpacing: .2,\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  whiteSpace: \"nowrap\",\n                  maxWidth: isMobile ? \"62vw\" : \"unset\",\n                  color: \"rgba(255,255,255,.95)\"\n                },\n                children: [g.away, \" @ \", g.home]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              alignItems: \"center\",\n              gap: 1,\n              sx: {\n                flexShrink: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(SportsFootballIcon, {\n                fontSize: \"small\",\n                sx: {\n                  opacity: .9\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  opacity: .9\n                },\n                children: fmtTime(g.kickoff)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  }\n\n  /* ---------- Render ---------- */\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      ref: weekTopRef,\n      direction: \"row\",\n      alignItems: \"center\",\n      gap: 1,\n      sx: {\n        mb: 2,\n        position: \"sticky\",\n        top: 0,\n        zIndex: 5,\n        bgcolor: \"transparent\",\n        pt: .5\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => setCursor(addWeeks(cursor, -1)),\n        children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 67\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: isMobile ? \"h6\" : \"h5\",\n        sx: {\n          letterSpacing: 1,\n          flex: 1\n        },\n        children: [\"Week of \", monthName(weekOf.from), \" \", weekOf.from.getDate(), \", \", weekOf.from.getFullYear()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Jump to current week\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => setCursor(startOfWeek(new Date())),\n          children: /*#__PURE__*/_jsxDEV(TodayIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => setCursor(addWeeks(cursor, 1)),\n        children: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), isMobile && /*#__PURE__*/_jsxDEV(FormControlLabel, {\n      sx: {\n        mb: 1\n      },\n      control: /*#__PURE__*/_jsxDEV(Switch, {\n        checked: hideEmptyDays,\n        onChange: (_, v) => setHideEmptyDays(v),\n        color: \"secondary\",\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 13\n      }, this),\n      label: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: \"Hide empty days\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 9\n    }, this), data === null ? /*#__PURE__*/_jsxDEV(Stack, {\n      alignItems: \"center\",\n      sx: {\n        py: 6,\n        opacity: .8\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 28\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          mt: 1\n        },\n        children: \"Loading schedule\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: isMobile ?\n      /*#__PURE__*/\n      // Mobile: stacked vertical days\n      _jsxDEV(Box, {\n        children: days.map(d => /*#__PURE__*/_jsxDEV(DayCard, {\n          d: d\n        }, +d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 31\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }, this) :\n      /*#__PURE__*/\n      // Desktop: 7-column grid (original layout)\n      _jsxDEV(Stack, {\n        direction: \"row\",\n        gap: 2,\n        sx: {\n          display: \"grid\",\n          gridTemplateColumns: `repeat(${days.length}, 1fr)`\n        },\n        children: days.map(d => /*#__PURE__*/_jsxDEV(DayCard, {\n          d: d\n        }, +d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 31\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 13\n      }, this)\n    }, void 0, false), /*#__PURE__*/_jsxDEV(Drawer, {\n      anchor: \"right\",\n      open: !!selected,\n      onClose: () => setSelected(null),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: 360,\n          p: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Game Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setSelected(null),\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), selected && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            sx: {\n              mb: 1\n            },\n            children: [selected.g.away, \" @ \", selected.g.home]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              mb: 1\n            },\n            children: new Date(selected.g.kickoff).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            gap: 1,\n            sx: {\n              mb: 1\n            },\n            children: [selected.g.week && /*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: `Week ${selected.g.week}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 37\n            }, this), selected.g.tv && /*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: selected.g.tv\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              my: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                mb: 0.75\n              },\n              children: \"Win probability (simple model)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this), probLoading && /*#__PURE__*/_jsxDEV(LinearProgress, {\n              sx: {\n                height: 6,\n                borderRadius: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 33\n            }, this), !probLoading && prob && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                sx: {\n                  mb: 0.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: selected.g.home\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    fontWeight: 600\n                  },\n                  children: [(prob.home * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n                variant: \"determinate\",\n                value: Math.max(0, Math.min(100, prob.home * 100)),\n                sx: {\n                  height: 10,\n                  borderRadius: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  display: \"block\",\n                  mt: 0.5,\n                  opacity: .8\n                },\n                children: probNote\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), !probLoading && prob === null && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                opacity: .8\n              },\n              children: \"Win probability unavailable (data not ready or rate-limited).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            children: [selected.g.venue && /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Venue\",\n                secondary: selected.g.venue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 19\n            }, this), (selected.g.city || selected.g.state) && /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Location\",\n                secondary: `${(_selected$g$city = selected.g.city) !== null && _selected$g$city !== void 0 ? _selected$g$city : \"\"} ${(_selected$g$state = selected.g.state) !== null && _selected$g$state !== void 0 ? _selected$g$state : \"\"}`.trim()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n}\n_s(AllGamesCalendarNFL, \"uJ2x113GmfC6WAO6cF/lEfq/T38=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n_c = AllGamesCalendarNFL;\nvar _c;\n$RefreshReg$(_c, \"AllGamesCalendarNFL\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Box","Card","CardContent","Chip","Stack","Typography","Drawer","Divider","List","ListItem","ListItemText","IconButton","Button","CircularProgress","useMediaQuery","LinearProgress","Switch","FormControlLabel","Tooltip","ChevronLeftIcon","ChevronRightIcon","CloseIcon","SportsFootballIcon","TodayIcon","useTheme","jsxDEV","_jsxDEV","Fragment","_Fragment","TEAM_COLORS","ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAX","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WSH","dayName","d","toLocaleDateString","undefined","weekday","monthName","month","fmtTime","iso","Date","toLocaleTimeString","hour","minute","pad","n","String","padStart","keyFromDate","getFullYear","getMonth","getDate","addWeeks","x","setDate","startOfWeek","dow","getDay","setHours","BDL_API","bdlHeaders","_process$env$REACT_AP","key","process","env","REACT_APP_BDL_KEY","trim","Accept","Authorization","TEAMS_MAP_PROMISE","teamFormCache","Map","getTeamsMap","r","fetch","headers","ok","Error","j","json","map","t","data","abbreviation","id","set","toUpperCase","Promise","resolve","fetchTeamGamesForSeason","teamId","seasonYear","out","cursor","guard","_j$meta$next_cursor","_j$meta","p","URLSearchParams","append","toString","push","meta","next_cursor","isFinalGame","g","hasScores","home_score","visitor_score","looksFinal","status","toLowerCase","includes","getTeamFormFromPastGames","teamAbbrev","season","teams","get","ppg","oppg","cacheKey","has","prevSeason","Number","curr","prev","all","finals","filter","slice","pts","opp","_g$home_team","_g$home_team2","_g$home_score","_g$visitor_score","isHome","home_team","hs","NaN","vs","isNaN","teamPts","oppPts","form","probFromMargin","margin","scale","Math","exp","AllGamesCalendarNFL","_s","_selected$g$city","_selected$g$state","setData","setCursor","selected","setSelected","prob","setProb","probLoading","setProbLoading","probNote","setProbNote","hideEmptyDays","setHideEmptyDays","theme","isMobile","breakpoints","down","weekTopRef","weekOf","from","to","cancelled","PUBLIC_URL","cache","days","gamesFor","sort","a","b","kickoff","setTimeout","firstWithGames","find","length","el","document","querySelector","current","top","getBoundingClientRect","window","scrollY","scrollTo","behavior","getTime","computeProb","homeAbbr","home","awayAbbr","away","homeForm","awayForm","HFA","note","homeOff","awayDef","awayOff","homeDef","pHome","e","DayCard","games","sx","backgroundColor","border","borderColor","mb","borderRadius","boxShadow","children","direction","justifyContent","alignItems","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","size","label","gap","opacity","idx","onClick","fullWidth","bgcolor","textTransform","minHeight","minWidth","width","height","flexShrink","letterSpacing","overflow","textOverflow","whiteSpace","maxWidth","color","fontSize","ref","position","zIndex","pt","flex","title","control","checked","onChange","_","v","py","mt","display","gridTemplateColumns","anchor","open","onClose","toLocaleString","week","tv","my","toFixed","value","max","min","dense","venue","primary","secondary","city","state","_c","$RefreshReg$"],"sources":["/Users/machome/React Projects/nfl-app/src/components/AllGamesCalendarNFL.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  Box, Card, CardContent, Chip, Stack, Typography, Drawer, Divider,\n  List, ListItem, ListItemText, IconButton, Button, CircularProgress,\n  useMediaQuery, LinearProgress, Switch, FormControlLabel, Tooltip\n} from \"@mui/material\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport SportsFootballIcon from \"@mui/icons-material/SportsFootball\";\nimport TodayIcon from \"@mui/icons-material/Today\";\nimport { useTheme } from \"@mui/material/styles\";\n\n/* ---------- UI helpers ---------- */\nconst TEAM_COLORS = {\n  ARI:\"#97233F\", ATL:\"#A71930\", BAL:\"#241773\", BUF:\"#00338D\", CAR:\"#0085CA\",\n  CHI:\"#0B162A\", CIN:\"#FB4F14\", CLE:\"#311D00\", DAL:\"#041E42\", DEN:\"#FB4F14\",\n  DET:\"#0076B6\", GB:\"#203731\", HOU:\"#03202F\", IND:\"#002C5F\", JAX:\"#9F792C\",\n  KC:\"#E31837\", LV:\"#000000\", LAC:\"#0080C6\", LAR:\"#003594\", MIA:\"#008E97\",\n  MIN:\"#4F2683\", NE:\"#002244\", NO:\"#D3BC8D\", NYG:\"#0B2265\", NYJ:\"#125740\",\n  PHI:\"#004C54\", PIT:\"#101820\", SF:\"#AA0000\", SEA:\"#002244\", TB:\"#D50A0A\",\n  TEN:\"#0C2340\", WSH:\"#5A1414\"\n};\nconst dayName = d => d.toLocaleDateString(undefined,{weekday:\"short\"});\nconst monthName = d => d.toLocaleDateString(undefined,{month:\"long\"});\nconst fmtTime = iso => new Date(iso).toLocaleTimeString([], {hour:\"numeric\", minute:\"2-digit\"});\nconst pad = n => String(n).padStart(2,'0');\nconst keyFromDate = d => `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;\n\nfunction addWeeks(d,n){ const x=new Date(d); x.setDate(x.getDate()+n*7); return x; }\nfunction startOfWeek(d){\n  const x = new Date(d);\n  const dow = x.getDay(); // Sunday=0\n  x.setDate(x.getDate() - dow);\n  x.setHours(0,0,0,0);\n  return x;\n}\n\n/* ---------- BallDon’tLie client (free-plan friendly) ---------- */\nconst BDL_API = \"https://api.balldontlie.io/nfl/v1\";\n// REACT_APP_BDL_KEY must be set in .env (client). Header is literally Authorization: YOUR_KEY (no \"Bearer\").\nconst bdlHeaders = () => {\n  const key = process.env.REACT_APP_BDL_KEY?.trim();\n  return key ? { Accept: \"application/json\", Authorization: key } : { Accept: \"application/json\" };\n};\n\n// Cache for /teams and per-team forms.\nlet TEAMS_MAP_PROMISE = null; // Promise<Map<abbrev, id>>\nconst teamFormCache = new Map(); // `${teamId}:${season}` -> {ppg,oppg}\n\nasync function getTeamsMap() {\n  if (!TEAMS_MAP_PROMISE) {\n    const r = await fetch(`${BDL_API}/teams`, { headers: bdlHeaders() });\n    if (!r.ok) throw new Error(\"Failed to load teams\");\n    const j = await r.json();\n    const map = new Map();\n    for (const t of j.data || []) {\n      // Expect fields like { id, abbreviation, name }\n      if (t.abbreviation && t.id != null) map.set(t.abbreviation.toUpperCase(), String(t.id));\n    }\n    TEAMS_MAP_PROMISE = Promise.resolve(map);\n  }\n  return TEAMS_MAP_PROMISE;\n}\n\nasync function fetchTeamGamesForSeason(teamId, seasonYear) {\n  const out = [];\n  let cursor;\n  let guard = 0;\n  do {\n    const p = new URLSearchParams();\n    p.append(\"seasons[]\", String(seasonYear));\n    p.append(\"team_ids[]\", String(teamId));\n    p.set(\"per_page\", \"100\");\n    if (cursor != null) p.set(\"cursor\", String(cursor));\n\n    const r = await fetch(`${BDL_API}/games?${p.toString()}`, { headers: bdlHeaders() });\n    if (!r.ok) break; // gracefully bail; model will fallback\n    const j = await r.json();\n    out.push(...(j.data || []));\n    cursor = j.meta?.next_cursor ?? null;\n    if (++guard > 8) break; // safety\n  } while (cursor != null);\n  return out;\n}\n\nfunction isFinalGame(g) {\n  const hasScores = typeof g.home_score === \"number\" && typeof g.visitor_score === \"number\";\n  const looksFinal = (g.status || \"\").toLowerCase().includes(\"final\");\n  return hasScores || looksFinal;\n}\n\n/** Compute a team’s simple form (PPG/OPPG) from recent finals across season & previous season. */\nasync function getTeamFormFromPastGames(teamAbbrev, season) {\n  const teams = await getTeamsMap();\n  const id = teams.get(String(teamAbbrev).toUpperCase());\n  if (!id) return { ppg: null, oppg: null };\n\n  const cacheKey = `${id}:${season}`;\n  if (teamFormCache.has(cacheKey)) return teamFormCache.get(cacheKey);\n\n  const prevSeason = (Number(season) || new Date().getFullYear()) - 1;\n  const [curr, prev] = await Promise.all([\n    fetchTeamGamesForSeason(id, season),\n    fetchTeamGamesForSeason(id, prevSeason)\n  ]);\n\n  const finals = [...curr, ...prev].filter(isFinalGame).slice(-10);\n  let pts = 0, opp = 0, n = 0;\n  for (const g of finals) {\n    const isHome = String(g.home_team?.id) === String(id) || g.home_team?.abbreviation === teamAbbrev;\n    const hs = Number(g.home_score ?? NaN);\n    const vs = Number(g.visitor_score ?? NaN);\n    if (Number.isNaN(hs) || Number.isNaN(vs)) continue;\n    const teamPts = isHome ? hs : vs;\n    const oppPts  = isHome ? vs : hs;\n    pts += teamPts; opp += oppPts; n++;\n  }\n  const form = { ppg: n ? pts/n : null, oppg: n ? opp/n : null };\n  teamFormCache.set(cacheKey, form);\n  return form;\n}\n\n// Logistic transform: margin (in points) → probability [0..1].\n// scale≈7 → ~7 points ≈ 70% win probability.\nfunction probFromMargin(margin, scale = 7) {\n  return 1 / (1 + Math.exp(-margin / scale));\n}\n\n/* ---------- Component ---------- */\nexport default function AllGamesCalendarNFL(){\n  const [data, setData] = useState(null);      // { \"YYYY-MM-DD\": Game[] }\n  const [cursor, setCursor] = useState(()=> startOfWeek(new Date()));\n  const [selected, setSelected] = useState(null);\n\n  // probability state\n  const [prob, setProb] = useState(null);       // { home, away } or null\n  const [probLoading, setProbLoading] = useState(false);\n  const [probNote, setProbNote] = useState(\"\");\n\n  // mobile tuning\n  const [hideEmptyDays, setHideEmptyDays] = useState(true);\n\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\n  const weekTopRef = useRef(null);\n\n  const weekOf = useMemo(()=>({\n    from: startOfWeek(cursor),\n    to: addWeeks(startOfWeek(cursor),1)\n  }),[cursor]);\n\n  // Load schedule JSON\n  useEffect(()=> {\n    let cancelled=false;\n    (async()=>{\n      try{\n        const r = await fetch(process.env.PUBLIC_URL + \"/nfl-upcoming-3mo.json\", { cache:\"no-store\" });\n        if (!r.ok) throw new Error(\"schedule fetch failed\");\n        const json = await r.json();\n        if(!cancelled) setData(json || {});\n      }catch{\n        if(!cancelled) setData({});\n      }\n    })();\n    return ()=>{cancelled=true};\n  },[]);\n\n  const days = useMemo(()=>{\n    const out=[]; const d=new Date(weekOf.from);\n    while(d<weekOf.to){ out.push(new Date(d)); d.setDate(d.getDate()+1); }\n    return out;\n  },[weekOf]);\n\n  const gamesFor = (d)=> (data?.[keyFromDate(d)] || [])\n    .slice().sort((a,b)=> new Date(a.kickoff) - new Date(b.kickoff));\n\n  // Scroll to first day with games (mobile)\n  useEffect(()=>{\n    if (!isMobile || !data) return;\n    // wait for DOM paint\n    setTimeout(()=>{\n      const firstWithGames = days.find(d => gamesFor(d).length > 0);\n      if (!firstWithGames) return;\n      const el = document.querySelector(`[data-day-key=\"${keyFromDate(firstWithGames)}\"]`);\n      if (el && weekTopRef.current) {\n        const top = el.getBoundingClientRect().top + window.scrollY - 72; // header offset\n        window.scrollTo({ top, behavior: \"smooth\" });\n      }\n    }, 10);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMobile, data, weekOf.from.getTime()]);\n\n  // When a game is opened, compute win probability using past games (free plan)\n  useEffect(()=>{\n    let cancelled = false;\n    async function computeProb() {\n      setProb(null);\n      setProbNote(\"\");\n      if (!selected?.g) return;\n      setProbLoading(true);\n      try {\n        const g = selected.g;\n        const season = new Date(g.kickoff).getFullYear();\n        const homeAbbr = g.home;\n        const awayAbbr = g.away;\n\n        const [homeForm, awayForm] = await Promise.all([\n          getTeamFormFromPastGames(homeAbbr, season),\n          getTeamFormFromPastGames(awayAbbr, season)\n        ]);\n\n        const HFA = 2.0; // home-field advantage in points\n        let note = \"Based on recent completed games (this & last season)\";\n        let margin;\n\n        if (\n          homeForm.ppg != null && homeForm.oppg != null &&\n          awayForm.ppg != null && awayForm.oppg != null\n        ) {\n          const homeOff = homeForm.ppg;\n          const awayDef = awayForm.oppg;\n          const awayOff = awayForm.ppg;\n          const homeDef = homeForm.oppg;\n          margin = (homeOff - awayDef) - (awayOff - homeDef) + HFA;\n        } else if (homeForm.ppg != null && awayForm.ppg != null) {\n          margin = (homeForm.ppg - awayForm.ppg) + HFA;\n          note = \"Based on recent points per game (limited finals available)\";\n        } else {\n          margin = HFA;\n          note = \"Insufficient past-game data; home advantage only\";\n        }\n\n        const pHome = probFromMargin(margin, 7);\n        if (!cancelled) {\n          setProb({ home: pHome, away: 1 - pHome });\n          setProbNote(note);\n        }\n      } catch (e) {\n        if (!cancelled) {\n          setProb(null);\n          setProbNote(\"Could not compute probability (data unavailable or rate-limited).\");\n        }\n      } finally {\n        if (!cancelled) setProbLoading(false);\n      }\n    }\n    computeProb();\n    return ()=>{ cancelled = true; };\n  }, [selected]);\n\n  /* ---------- Day card (mobile & desktop variants) ---------- */\n  function DayCard({ d }) {\n    const games = gamesFor(d);\n    if (hideEmptyDays && isMobile && games.length === 0) return null;\n\n    return (\n      <Card\n        data-day-key={keyFromDate(d)}\n        sx={{\n          backgroundColor:\"background.paper\",\n          border:1, borderColor:\"rgba(255,255,255,.08)\",\n          ...(isMobile\n            ? { mb:2, borderRadius:3, boxShadow:\"rgba(0,0,0,.25) 0 6px 14px -6px\" }\n            : {}\n          )\n        }}\n      >\n        <CardContent sx={{ p: isMobile ? 1.25 : 2 }}>\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb:1 }}>\n            <Typography variant={isMobile ? \"subtitle1\" : \"h6\"} sx={{ fontWeight:600 }}>\n              {dayName(d)} {d.getDate()}\n            </Typography>\n            <Chip size=\"small\" label={`${games.length} ${games.length===1?'Game':'Games'}`} />\n          </Stack>\n\n          <Stack gap={isMobile ? 0.75 : 1}>\n            {games.length === 0 && (\n              <Typography variant=\"body2\" sx={{ opacity:.7 }}>No games</Typography>\n            )}\n\n            {games.map((g, idx)=> (\n              <Button\n                key={idx}\n                onClick={()=> setSelected({ g, d })}\n                fullWidth\n                sx={{\n                  justifyContent:\"space-between\",\n                  p: isMobile ? 1 : 1.2,\n                  border:1, borderColor:\"rgba(255,255,255,.10)\",\n                  bgcolor:\"rgba(255,255,255,.05)\",\n                  textTransform:\"none\",\n                  borderRadius: 2,\n                  minHeight: 52\n                }}\n              >\n                <Stack direction=\"row\" alignItems=\"center\" gap={1.25} sx={{ minWidth: 0 }}>\n                  <Box sx={{ width:12, height:12, bgcolor: TEAM_COLORS[g.home]||\"#999\", borderRadius:\"50%\", flexShrink:0 }} />\n                  <Typography\n                    sx={{\n                      fontWeight:600,\n                      letterSpacing:.2,\n                      overflow:\"hidden\",\n                      textOverflow:\"ellipsis\",\n                      whiteSpace:\"nowrap\",\n                      maxWidth: isMobile ? \"62vw\" : \"unset\",\n                      color:\"rgba(255,255,255,.95)\"\n                    }}>\n                    {g.away} @ {g.home}\n                  </Typography>\n                </Stack>\n\n                <Stack direction=\"row\" alignItems=\"center\" gap={1} sx={{ flexShrink:0 }}>\n                  <SportsFootballIcon fontSize=\"small\" sx={{ opacity:.9 }} />\n                  <Typography variant=\"body2\" sx={{ opacity:.9 }}>{fmtTime(g.kickoff)}</Typography>\n                </Stack>\n              </Button>\n            ))}\n          </Stack>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  /* ---------- Render ---------- */\n  return (\n    <Box>\n      {/* Sticky week header with actions */}\n      <Stack\n        ref={weekTopRef}\n        direction=\"row\"\n        alignItems=\"center\"\n        gap={1}\n        sx={{\n          mb:2,\n          position: \"sticky\",\n          top: 0,\n          zIndex: 5,\n          bgcolor: \"transparent\",\n          pt: .5\n        }}\n      >\n        <IconButton onClick={()=> setCursor(addWeeks(cursor,-1))}><ChevronLeftIcon/></IconButton>\n        <Typography variant={isMobile ? \"h6\":\"h5\"} sx={{ letterSpacing:1, flex:1 }}>\n          Week of {monthName(weekOf.from)} {weekOf.from.getDate()}, {weekOf.from.getFullYear()}\n        </Typography>\n        <Tooltip title=\"Jump to current week\">\n          <IconButton onClick={()=> setCursor(startOfWeek(new Date()))}><TodayIcon/></IconButton>\n        </Tooltip>\n        <IconButton onClick={()=> setCursor(addWeeks(cursor,1))}><ChevronRightIcon/></IconButton>\n      </Stack>\n\n      {/* Hide empty days toggle (mobile only) */}\n      {isMobile && (\n        <FormControlLabel\n          sx={{ mb:1 }}\n          control={\n            <Switch\n              checked={hideEmptyDays}\n              onChange={(_,v)=> setHideEmptyDays(v)}\n              color=\"secondary\"\n              size=\"small\"\n            />\n          }\n          label={<Typography variant=\"body2\">Hide empty days</Typography>}\n        />\n      )}\n\n      {data === null ? (\n        <Stack alignItems=\"center\" sx={{ py:6, opacity:.8 }}>\n          <CircularProgress size={28} />\n          <Typography sx={{ mt:1 }}>Loading schedule…</Typography>\n        </Stack>\n      ) : (\n        <>\n          {isMobile ? (\n            // Mobile: stacked vertical days\n            <Box>\n              {days.map((d)=> <DayCard key={+d} d={d} />)}\n            </Box>\n          ) : (\n            // Desktop: 7-column grid (original layout)\n            <Stack\n              direction=\"row\"\n              gap={2}\n              sx={{ display:\"grid\", gridTemplateColumns:`repeat(${days.length}, 1fr)` }}\n            >\n              {days.map((d)=> <DayCard key={+d} d={d} />)}\n            </Stack>\n          )}\n        </>\n      )}\n\n      <Drawer anchor=\"right\" open={!!selected} onClose={()=> setSelected(null)}>\n        <Box sx={{ width: 360, p:2 }}>\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb:1 }}>\n            <Typography variant=\"h6\">Game Details</Typography>\n            <IconButton onClick={()=> setSelected(null)}><CloseIcon /></IconButton>\n          </Stack>\n          <Divider sx={{ mb:2 }} />\n\n          {selected && (\n            <>\n              <Typography variant=\"h5\" sx={{ mb:1 }}>\n                {selected.g.away} @ {selected.g.home}\n              </Typography>\n              <Typography sx={{ mb:1 }}>{new Date(selected.g.kickoff).toLocaleString()}</Typography>\n              <Stack direction=\"row\" gap={1} sx={{ mb:1 }}>\n                {selected.g.week && <Chip size=\"small\" label={`Week ${selected.g.week}`} />}\n                {selected.g.tv && <Chip size=\"small\" label={selected.g.tv} />}\n              </Stack>\n\n              {/* Win probability block */}\n              <Box sx={{ my:2 }}>\n                <Typography variant=\"subtitle2\" sx={{ mb:0.75 }}>\n                  Win probability (simple model)\n                </Typography>\n\n                {probLoading && <LinearProgress sx={{ height:6, borderRadius:1 }} />}\n\n                {!probLoading && prob && (\n                  <>\n                    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb:0.5 }}>\n                      <Typography variant=\"body2\">{selected.g.home}</Typography>\n                      <Typography variant=\"body2\" sx={{ fontWeight:600 }}>\n                        {(prob.home * 100).toFixed(1)}%\n                      </Typography>\n                    </Stack>\n                    <LinearProgress\n                      variant=\"determinate\"\n                      value={Math.max(0, Math.min(100, prob.home * 100))}\n                      sx={{ height:10, borderRadius:1 }}\n                    />\n                    <Typography variant=\"caption\" sx={{ display:\"block\", mt:0.5, opacity:.8 }}>\n                      {probNote}\n                    </Typography>\n                  </>\n                )}\n\n                {!probLoading && prob === null && (\n                  <Typography variant=\"body2\" sx={{ opacity:.8 }}>\n                    Win probability unavailable (data not ready or rate-limited).\n                  </Typography>\n                )}\n              </Box>\n\n              <List dense>\n                {selected.g.venue && (\n                  <ListItem><ListItemText primary=\"Venue\" secondary={selected.g.venue} /></ListItem>\n                )}\n                {(selected.g.city || selected.g.state) && (\n                  <ListItem><ListItemText primary=\"Location\" secondary={`${selected.g.city??\"\"} ${selected.g.state??\"\"}`.trim()} /></ListItem>\n                )}\n              </List>\n            </>\n          )}\n        </Box>\n      </Drawer>\n    </Box>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,SACEC,GAAG,EAAEC,IAAI,EAAEC,WAAW,EAAEC,IAAI,EAAEC,KAAK,EAAEC,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAChEC,IAAI,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,UAAU,EAAEC,MAAM,EAAEC,gBAAgB,EAClEC,aAAa,EAAEC,cAAc,EAAEC,MAAM,EAAEC,gBAAgB,EAAEC,OAAO,QAC3D,eAAe;AACtB,OAAOC,eAAe,MAAM,iCAAiC;AAC7D,OAAOC,gBAAgB,MAAM,kCAAkC;AAC/D,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,kBAAkB,MAAM,oCAAoC;AACnE,OAAOC,SAAS,MAAM,2BAA2B;AACjD,SAASC,QAAQ,QAAQ,sBAAsB;;AAE/C;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,WAAW,GAAG;EAClBC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EACzEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EACzEC,GAAG,EAAC,SAAS;EAAEC,EAAE,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EACxEC,EAAE,EAAC,SAAS;EAAEC,EAAE,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EACvEC,GAAG,EAAC,SAAS;EAAEC,EAAE,EAAC,SAAS;EAAEC,EAAE,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EACvEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,EAAE,EAAC,SAAS;EAAEC,GAAG,EAAC,SAAS;EAAEC,EAAE,EAAC,SAAS;EACvEC,GAAG,EAAC,SAAS;EAAEC,GAAG,EAAC;AACrB,CAAC;AACD,MAAMC,OAAO,GAAGC,CAAC,IAAIA,CAAC,CAACC,kBAAkB,CAACC,SAAS,EAAC;EAACC,OAAO,EAAC;AAAO,CAAC,CAAC;AACtE,MAAMC,SAAS,GAAGJ,CAAC,IAAIA,CAAC,CAACC,kBAAkB,CAACC,SAAS,EAAC;EAACG,KAAK,EAAC;AAAM,CAAC,CAAC;AACrE,MAAMC,OAAO,GAAGC,GAAG,IAAI,IAAIC,IAAI,CAACD,GAAG,CAAC,CAACE,kBAAkB,CAAC,EAAE,EAAE;EAACC,IAAI,EAAC,SAAS;EAAEC,MAAM,EAAC;AAAS,CAAC,CAAC;AAC/F,MAAMC,GAAG,GAAGC,CAAC,IAAIC,MAAM,CAACD,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC;AAC1C,MAAMC,WAAW,GAAGhB,CAAC,IAAI,GAAGA,CAAC,CAACiB,WAAW,CAAC,CAAC,IAAIL,GAAG,CAACZ,CAAC,CAACkB,QAAQ,CAAC,CAAC,GAAC,CAAC,CAAC,IAAIN,GAAG,CAACZ,CAAC,CAACmB,OAAO,CAAC,CAAC,CAAC,EAAE;AAExF,SAASC,QAAQA,CAACpB,CAAC,EAACa,CAAC,EAAC;EAAE,MAAMQ,CAAC,GAAC,IAAIb,IAAI,CAACR,CAAC,CAAC;EAAEqB,CAAC,CAACC,OAAO,CAACD,CAAC,CAACF,OAAO,CAAC,CAAC,GAACN,CAAC,GAAC,CAAC,CAAC;EAAE,OAAOQ,CAAC;AAAE;AACnF,SAASE,WAAWA,CAACvB,CAAC,EAAC;EACrB,MAAMqB,CAAC,GAAG,IAAIb,IAAI,CAACR,CAAC,CAAC;EACrB,MAAMwB,GAAG,GAAGH,CAAC,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC;EACxBJ,CAAC,CAACC,OAAO,CAACD,CAAC,CAACF,OAAO,CAAC,CAAC,GAAGK,GAAG,CAAC;EAC5BH,CAAC,CAACK,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;EACnB,OAAOL,CAAC;AACV;;AAEA;AACA,MAAMM,OAAO,GAAG,mCAAmC;AACnD;AACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAA,IAAAC,qBAAA;EACvB,MAAMC,GAAG,IAAAD,qBAAA,GAAGE,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAAJ,qBAAA,uBAA7BA,qBAAA,CAA+BK,IAAI,CAAC,CAAC;EACjD,OAAOJ,GAAG,GAAG;IAAEK,MAAM,EAAE,kBAAkB;IAAEC,aAAa,EAAEN;EAAI,CAAC,GAAG;IAAEK,MAAM,EAAE;EAAmB,CAAC;AAClG,CAAC;;AAED;AACA,IAAIE,iBAAiB,GAAG,IAAI,CAAC,CAAC;AAC9B,MAAMC,aAAa,GAAG,IAAIC,GAAG,CAAC,CAAC,CAAC,CAAC;;AAEjC,eAAeC,WAAWA,CAAA,EAAG;EAC3B,IAAI,CAACH,iBAAiB,EAAE;IACtB,MAAMI,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAGf,OAAO,QAAQ,EAAE;MAAEgB,OAAO,EAAEf,UAAU,CAAC;IAAE,CAAC,CAAC;IACpE,IAAI,CAACa,CAAC,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;IAClD,MAAMC,CAAC,GAAG,MAAML,CAAC,CAACM,IAAI,CAAC,CAAC;IACxB,MAAMC,GAAG,GAAG,IAAIT,GAAG,CAAC,CAAC;IACrB,KAAK,MAAMU,CAAC,IAAIH,CAAC,CAACI,IAAI,IAAI,EAAE,EAAE;MAC5B;MACA,IAAID,CAAC,CAACE,YAAY,IAAIF,CAAC,CAACG,EAAE,IAAI,IAAI,EAAEJ,GAAG,CAACK,GAAG,CAACJ,CAAC,CAACE,YAAY,CAACG,WAAW,CAAC,CAAC,EAAExC,MAAM,CAACmC,CAAC,CAACG,EAAE,CAAC,CAAC;IACzF;IACAf,iBAAiB,GAAGkB,OAAO,CAACC,OAAO,CAACR,GAAG,CAAC;EAC1C;EACA,OAAOX,iBAAiB;AAC1B;AAEA,eAAeoB,uBAAuBA,CAACC,MAAM,EAAEC,UAAU,EAAE;EACzD,MAAMC,GAAG,GAAG,EAAE;EACd,IAAIC,MAAM;EACV,IAAIC,KAAK,GAAG,CAAC;EACb,GAAG;IAAA,IAAAC,mBAAA,EAAAC,OAAA;IACD,MAAMC,CAAC,GAAG,IAAIC,eAAe,CAAC,CAAC;IAC/BD,CAAC,CAACE,MAAM,CAAC,WAAW,EAAErD,MAAM,CAAC6C,UAAU,CAAC,CAAC;IACzCM,CAAC,CAACE,MAAM,CAAC,YAAY,EAAErD,MAAM,CAAC4C,MAAM,CAAC,CAAC;IACtCO,CAAC,CAACZ,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC;IACxB,IAAIQ,MAAM,IAAI,IAAI,EAAEI,CAAC,CAACZ,GAAG,CAAC,QAAQ,EAAEvC,MAAM,CAAC+C,MAAM,CAAC,CAAC;IAEnD,MAAMpB,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAGf,OAAO,UAAUsC,CAAC,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE;MAAEzB,OAAO,EAAEf,UAAU,CAAC;IAAE,CAAC,CAAC;IACpF,IAAI,CAACa,CAAC,CAACG,EAAE,EAAE,MAAM,CAAC;IAClB,MAAME,CAAC,GAAG,MAAML,CAAC,CAACM,IAAI,CAAC,CAAC;IACxBa,GAAG,CAACS,IAAI,CAAC,IAAIvB,CAAC,CAACI,IAAI,IAAI,EAAE,CAAC,CAAC;IAC3BW,MAAM,IAAAE,mBAAA,IAAAC,OAAA,GAAGlB,CAAC,CAACwB,IAAI,cAAAN,OAAA,uBAANA,OAAA,CAAQO,WAAW,cAAAR,mBAAA,cAAAA,mBAAA,GAAI,IAAI;IACpC,IAAI,EAAED,KAAK,GAAG,CAAC,EAAE,MAAM,CAAC;EAC1B,CAAC,QAAQD,MAAM,IAAI,IAAI;EACvB,OAAOD,GAAG;AACZ;AAEA,SAASY,WAAWA,CAACC,CAAC,EAAE;EACtB,MAAMC,SAAS,GAAG,OAAOD,CAAC,CAACE,UAAU,KAAK,QAAQ,IAAI,OAAOF,CAAC,CAACG,aAAa,KAAK,QAAQ;EACzF,MAAMC,UAAU,GAAG,CAACJ,CAAC,CAACK,MAAM,IAAI,EAAE,EAAEC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;EACnE,OAAON,SAAS,IAAIG,UAAU;AAChC;;AAEA;AACA,eAAeI,wBAAwBA,CAACC,UAAU,EAAEC,MAAM,EAAE;EAC1D,MAAMC,KAAK,GAAG,MAAM5C,WAAW,CAAC,CAAC;EACjC,MAAMY,EAAE,GAAGgC,KAAK,CAACC,GAAG,CAACvE,MAAM,CAACoE,UAAU,CAAC,CAAC5B,WAAW,CAAC,CAAC,CAAC;EACtD,IAAI,CAACF,EAAE,EAAE,OAAO;IAAEkC,GAAG,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAK,CAAC;EAEzC,MAAMC,QAAQ,GAAG,GAAGpC,EAAE,IAAI+B,MAAM,EAAE;EAClC,IAAI7C,aAAa,CAACmD,GAAG,CAACD,QAAQ,CAAC,EAAE,OAAOlD,aAAa,CAAC+C,GAAG,CAACG,QAAQ,CAAC;EAEnE,MAAME,UAAU,GAAG,CAACC,MAAM,CAACR,MAAM,CAAC,IAAI,IAAI3E,IAAI,CAAC,CAAC,CAACS,WAAW,CAAC,CAAC,IAAI,CAAC;EACnE,MAAM,CAAC2E,IAAI,EAAEC,IAAI,CAAC,GAAG,MAAMtC,OAAO,CAACuC,GAAG,CAAC,CACrCrC,uBAAuB,CAACL,EAAE,EAAE+B,MAAM,CAAC,EACnC1B,uBAAuB,CAACL,EAAE,EAAEsC,UAAU,CAAC,CACxC,CAAC;EAEF,MAAMK,MAAM,GAAG,CAAC,GAAGH,IAAI,EAAE,GAAGC,IAAI,CAAC,CAACG,MAAM,CAACxB,WAAW,CAAC,CAACyB,KAAK,CAAC,CAAC,EAAE,CAAC;EAChE,IAAIC,GAAG,GAAG,CAAC;IAAEC,GAAG,GAAG,CAAC;IAAEtF,CAAC,GAAG,CAAC;EAC3B,KAAK,MAAM4D,CAAC,IAAIsB,MAAM,EAAE;IAAA,IAAAK,YAAA,EAAAC,aAAA,EAAAC,aAAA,EAAAC,gBAAA;IACtB,MAAMC,MAAM,GAAG1F,MAAM,EAAAsF,YAAA,GAAC3B,CAAC,CAACgC,SAAS,cAAAL,YAAA,uBAAXA,YAAA,CAAahD,EAAE,CAAC,KAAKtC,MAAM,CAACsC,EAAE,CAAC,IAAI,EAAAiD,aAAA,GAAA5B,CAAC,CAACgC,SAAS,cAAAJ,aAAA,uBAAXA,aAAA,CAAalD,YAAY,MAAK+B,UAAU;IACjG,MAAMwB,EAAE,GAAGf,MAAM,EAAAW,aAAA,GAAC7B,CAAC,CAACE,UAAU,cAAA2B,aAAA,cAAAA,aAAA,GAAIK,GAAG,CAAC;IACtC,MAAMC,EAAE,GAAGjB,MAAM,EAAAY,gBAAA,GAAC9B,CAAC,CAACG,aAAa,cAAA2B,gBAAA,cAAAA,gBAAA,GAAII,GAAG,CAAC;IACzC,IAAIhB,MAAM,CAACkB,KAAK,CAACH,EAAE,CAAC,IAAIf,MAAM,CAACkB,KAAK,CAACD,EAAE,CAAC,EAAE;IAC1C,MAAME,OAAO,GAAGN,MAAM,GAAGE,EAAE,GAAGE,EAAE;IAChC,MAAMG,MAAM,GAAIP,MAAM,GAAGI,EAAE,GAAGF,EAAE;IAChCR,GAAG,IAAIY,OAAO;IAAEX,GAAG,IAAIY,MAAM;IAAElG,CAAC,EAAE;EACpC;EACA,MAAMmG,IAAI,GAAG;IAAE1B,GAAG,EAAEzE,CAAC,GAAGqF,GAAG,GAACrF,CAAC,GAAG,IAAI;IAAE0E,IAAI,EAAE1E,CAAC,GAAGsF,GAAG,GAACtF,CAAC,GAAG;EAAK,CAAC;EAC9DyB,aAAa,CAACe,GAAG,CAACmC,QAAQ,EAAEwB,IAAI,CAAC;EACjC,OAAOA,IAAI;AACb;;AAEA;AACA;AACA,SAASC,cAAcA,CAACC,MAAM,EAAEC,KAAK,GAAG,CAAC,EAAE;EACzC,OAAO,CAAC,IAAI,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAACH,MAAM,GAAGC,KAAK,CAAC,CAAC;AAC5C;;AAEA;AACA,eAAe,SAASG,mBAAmBA,CAAA,EAAE;EAAAC,EAAA;EAAA,IAAAC,gBAAA,EAAAC,iBAAA;EAC3C,MAAM,CAACvE,IAAI,EAAEwE,OAAO,CAAC,GAAG1L,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAM;EAC7C,MAAM,CAAC6H,MAAM,EAAE8D,SAAS,CAAC,GAAG3L,QAAQ,CAAC,MAAKuF,WAAW,CAAC,IAAIf,IAAI,CAAC,CAAC,CAAC,CAAC;EAClE,MAAM,CAACoH,QAAQ,EAAEC,WAAW,CAAC,GAAG7L,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACA,MAAM,CAAC8L,IAAI,EAAEC,OAAO,CAAC,GAAG/L,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAO;EAC9C,MAAM,CAACgM,WAAW,EAAEC,cAAc,CAAC,GAAGjM,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkM,QAAQ,EAAEC,WAAW,CAAC,GAAGnM,QAAQ,CAAC,EAAE,CAAC;;EAE5C;EACA,MAAM,CAACoM,aAAa,EAAEC,gBAAgB,CAAC,GAAGrM,QAAQ,CAAC,IAAI,CAAC;EAExD,MAAMsM,KAAK,GAAG7K,QAAQ,CAAC,CAAC;EACxB,MAAM8K,QAAQ,GAAGxL,aAAa,CAACuL,KAAK,CAACE,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAC5D,MAAMC,UAAU,GAAG3M,MAAM,CAAC,IAAI,CAAC;EAE/B,MAAM4M,MAAM,GAAG7M,OAAO,CAAC,OAAK;IAC1B8M,IAAI,EAAErH,WAAW,CAACsC,MAAM,CAAC;IACzBgF,EAAE,EAAEzH,QAAQ,CAACG,WAAW,CAACsC,MAAM,CAAC,EAAC,CAAC;EACpC,CAAC,CAAC,EAAC,CAACA,MAAM,CAAC,CAAC;;EAEZ;EACAhI,SAAS,CAAC,MAAK;IACb,IAAIiN,SAAS,GAAC,KAAK;IACnB,CAAC,YAAS;MACR,IAAG;QACD,MAAMrG,CAAC,GAAG,MAAMC,KAAK,CAACX,OAAO,CAACC,GAAG,CAAC+G,UAAU,GAAG,wBAAwB,EAAE;UAAEC,KAAK,EAAC;QAAW,CAAC,CAAC;QAC9F,IAAI,CAACvG,CAAC,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;QACnD,MAAME,IAAI,GAAG,MAAMN,CAAC,CAACM,IAAI,CAAC,CAAC;QAC3B,IAAG,CAAC+F,SAAS,EAAEpB,OAAO,CAAC3E,IAAI,IAAI,CAAC,CAAC,CAAC;MACpC,CAAC,OAAK;QACJ,IAAG,CAAC+F,SAAS,EAAEpB,OAAO,CAAC,CAAC,CAAC,CAAC;MAC5B;IACF,CAAC,EAAE,CAAC;IACJ,OAAO,MAAI;MAACoB,SAAS,GAAC,IAAI;IAAA,CAAC;EAC7B,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMG,IAAI,GAAGnN,OAAO,CAAC,MAAI;IACvB,MAAM8H,GAAG,GAAC,EAAE;IAAE,MAAM5D,CAAC,GAAC,IAAIQ,IAAI,CAACmI,MAAM,CAACC,IAAI,CAAC;IAC3C,OAAM5I,CAAC,GAAC2I,MAAM,CAACE,EAAE,EAAC;MAAEjF,GAAG,CAACS,IAAI,CAAC,IAAI7D,IAAI,CAACR,CAAC,CAAC,CAAC;MAAEA,CAAC,CAACsB,OAAO,CAACtB,CAAC,CAACmB,OAAO,CAAC,CAAC,GAAC,CAAC,CAAC;IAAE;IACrE,OAAOyC,GAAG;EACZ,CAAC,EAAC,CAAC+E,MAAM,CAAC,CAAC;EAEX,MAAMO,QAAQ,GAAIlJ,CAAC,IAAI,CAAC,CAAAkD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAGlC,WAAW,CAAChB,CAAC,CAAC,CAAC,KAAI,EAAE,EACjDiG,KAAK,CAAC,CAAC,CAACkD,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAI,IAAI7I,IAAI,CAAC4I,CAAC,CAACE,OAAO,CAAC,GAAG,IAAI9I,IAAI,CAAC6I,CAAC,CAACC,OAAO,CAAC,CAAC;;EAElE;EACAzN,SAAS,CAAC,MAAI;IACZ,IAAI,CAAC0M,QAAQ,IAAI,CAACrF,IAAI,EAAE;IACxB;IACAqG,UAAU,CAAC,MAAI;MACb,MAAMC,cAAc,GAAGP,IAAI,CAACQ,IAAI,CAACzJ,CAAC,IAAIkJ,QAAQ,CAAClJ,CAAC,CAAC,CAAC0J,MAAM,GAAG,CAAC,CAAC;MAC7D,IAAI,CAACF,cAAc,EAAE;MACrB,MAAMG,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,kBAAkB7I,WAAW,CAACwI,cAAc,CAAC,IAAI,CAAC;MACpF,IAAIG,EAAE,IAAIjB,UAAU,CAACoB,OAAO,EAAE;QAC5B,MAAMC,GAAG,GAAGJ,EAAE,CAACK,qBAAqB,CAAC,CAAC,CAACD,GAAG,GAAGE,MAAM,CAACC,OAAO,GAAG,EAAE,CAAC,CAAC;QAClED,MAAM,CAACE,QAAQ,CAAC;UAAEJ,GAAG;UAAEK,QAAQ,EAAE;QAAS,CAAC,CAAC;MAC9C;IACF,CAAC,EAAE,EAAE,CAAC;IACN;EACF,CAAC,EAAE,CAAC7B,QAAQ,EAAErF,IAAI,EAAEyF,MAAM,CAACC,IAAI,CAACyB,OAAO,CAAC,CAAC,CAAC,CAAC;;EAE3C;EACAxO,SAAS,CAAC,MAAI;IACZ,IAAIiN,SAAS,GAAG,KAAK;IACrB,eAAewB,WAAWA,CAAA,EAAG;MAC3BvC,OAAO,CAAC,IAAI,CAAC;MACbI,WAAW,CAAC,EAAE,CAAC;MACf,IAAI,EAACP,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEnD,CAAC,GAAE;MAClBwD,cAAc,CAAC,IAAI,CAAC;MACpB,IAAI;QACF,MAAMxD,CAAC,GAAGmD,QAAQ,CAACnD,CAAC;QACpB,MAAMU,MAAM,GAAG,IAAI3E,IAAI,CAACiE,CAAC,CAAC6E,OAAO,CAAC,CAACrI,WAAW,CAAC,CAAC;QAChD,MAAMsJ,QAAQ,GAAG9F,CAAC,CAAC+F,IAAI;QACvB,MAAMC,QAAQ,GAAGhG,CAAC,CAACiG,IAAI;QAEvB,MAAM,CAACC,QAAQ,EAAEC,QAAQ,CAAC,GAAG,MAAMrH,OAAO,CAACuC,GAAG,CAAC,CAC7Cb,wBAAwB,CAACsF,QAAQ,EAAEpF,MAAM,CAAC,EAC1CF,wBAAwB,CAACwF,QAAQ,EAAEtF,MAAM,CAAC,CAC3C,CAAC;QAEF,MAAM0F,GAAG,GAAG,GAAG,CAAC,CAAC;QACjB,IAAIC,IAAI,GAAG,sDAAsD;QACjE,IAAI5D,MAAM;QAEV,IACEyD,QAAQ,CAACrF,GAAG,IAAI,IAAI,IAAIqF,QAAQ,CAACpF,IAAI,IAAI,IAAI,IAC7CqF,QAAQ,CAACtF,GAAG,IAAI,IAAI,IAAIsF,QAAQ,CAACrF,IAAI,IAAI,IAAI,EAC7C;UACA,MAAMwF,OAAO,GAAGJ,QAAQ,CAACrF,GAAG;UAC5B,MAAM0F,OAAO,GAAGJ,QAAQ,CAACrF,IAAI;UAC7B,MAAM0F,OAAO,GAAGL,QAAQ,CAACtF,GAAG;UAC5B,MAAM4F,OAAO,GAAGP,QAAQ,CAACpF,IAAI;UAC7B2B,MAAM,GAAI6D,OAAO,GAAGC,OAAO,IAAKC,OAAO,GAAGC,OAAO,CAAC,GAAGL,GAAG;QAC1D,CAAC,MAAM,IAAIF,QAAQ,CAACrF,GAAG,IAAI,IAAI,IAAIsF,QAAQ,CAACtF,GAAG,IAAI,IAAI,EAAE;UACvD4B,MAAM,GAAIyD,QAAQ,CAACrF,GAAG,GAAGsF,QAAQ,CAACtF,GAAG,GAAIuF,GAAG;UAC5CC,IAAI,GAAG,4DAA4D;QACrE,CAAC,MAAM;UACL5D,MAAM,GAAG2D,GAAG;UACZC,IAAI,GAAG,kDAAkD;QAC3D;QAEA,MAAMK,KAAK,GAAGlE,cAAc,CAACC,MAAM,EAAE,CAAC,CAAC;QACvC,IAAI,CAAC4B,SAAS,EAAE;UACdf,OAAO,CAAC;YAAEyC,IAAI,EAAEW,KAAK;YAAET,IAAI,EAAE,CAAC,GAAGS;UAAM,CAAC,CAAC;UACzChD,WAAW,CAAC2C,IAAI,CAAC;QACnB;MACF,CAAC,CAAC,OAAOM,CAAC,EAAE;QACV,IAAI,CAACtC,SAAS,EAAE;UACdf,OAAO,CAAC,IAAI,CAAC;UACbI,WAAW,CAAC,mEAAmE,CAAC;QAClF;MACF,CAAC,SAAS;QACR,IAAI,CAACW,SAAS,EAAEb,cAAc,CAAC,KAAK,CAAC;MACvC;IACF;IACAqC,WAAW,CAAC,CAAC;IACb,OAAO,MAAI;MAAExB,SAAS,GAAG,IAAI;IAAE,CAAC;EAClC,CAAC,EAAE,CAAClB,QAAQ,CAAC,CAAC;;EAEd;EACA,SAASyD,OAAOA,CAAC;IAAErL;EAAE,CAAC,EAAE;IACtB,MAAMsL,KAAK,GAAGpC,QAAQ,CAAClJ,CAAC,CAAC;IACzB,IAAIoI,aAAa,IAAIG,QAAQ,IAAI+C,KAAK,CAAC5B,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;IAEhE,oBACE/L,OAAA,CAACzB,IAAI;MACH,gBAAc8E,WAAW,CAAChB,CAAC,CAAE;MAC7BuL,EAAE,EAAE;QACFC,eAAe,EAAC,kBAAkB;QAClCC,MAAM,EAAC,CAAC;QAAEC,WAAW,EAAC,uBAAuB;QAC7C,IAAInD,QAAQ,GACR;UAAEoD,EAAE,EAAC,CAAC;UAAEC,YAAY,EAAC,CAAC;UAAEC,SAAS,EAAC;QAAkC,CAAC,GACrE,CAAC,CAAC;MAER,CAAE;MAAAC,QAAA,eAEFnO,OAAA,CAACxB,WAAW;QAACoP,EAAE,EAAE;UAAEtH,CAAC,EAAEsE,QAAQ,GAAG,IAAI,GAAG;QAAE,CAAE;QAAAuD,QAAA,gBAC1CnO,OAAA,CAACtB,KAAK;UAAC0P,SAAS,EAAC,KAAK;UAACC,cAAc,EAAC,eAAe;UAACC,UAAU,EAAC,QAAQ;UAACV,EAAE,EAAE;YAAEI,EAAE,EAAC;UAAE,CAAE;UAAAG,QAAA,gBACrFnO,OAAA,CAACrB,UAAU;YAAC4P,OAAO,EAAE3D,QAAQ,GAAG,WAAW,GAAG,IAAK;YAACgD,EAAE,EAAE;cAAEY,UAAU,EAAC;YAAI,CAAE;YAAAL,QAAA,GACxE/L,OAAO,CAACC,CAAC,CAAC,EAAC,GAAC,EAACA,CAAC,CAACmB,OAAO,CAAC,CAAC;UAAA;YAAAiL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf,CAAC,eACb5O,OAAA,CAACvB,IAAI;YAACoQ,IAAI,EAAC,OAAO;YAACC,KAAK,EAAE,GAAGnB,KAAK,CAAC5B,MAAM,IAAI4B,KAAK,CAAC5B,MAAM,KAAG,CAAC,GAAC,MAAM,GAAC,OAAO;UAAG;YAAA0C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC,eAER5O,OAAA,CAACtB,KAAK;UAACqQ,GAAG,EAAEnE,QAAQ,GAAG,IAAI,GAAG,CAAE;UAAAuD,QAAA,GAC7BR,KAAK,CAAC5B,MAAM,KAAK,CAAC,iBACjB/L,OAAA,CAACrB,UAAU;YAAC4P,OAAO,EAAC,OAAO;YAACX,EAAE,EAAE;cAAEoB,OAAO,EAAC;YAAG,CAAE;YAAAb,QAAA,EAAC;UAAQ;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CACrE,EAEAjB,KAAK,CAACtI,GAAG,CAAC,CAACyB,CAAC,EAAEmI,GAAG,kBAChBjP,OAAA,CAACd,MAAM;YAELgQ,OAAO,EAAEA,CAAA,KAAKhF,WAAW,CAAC;cAAEpD,CAAC;cAAEzE;YAAE,CAAC,CAAE;YACpC8M,SAAS;YACTvB,EAAE,EAAE;cACFS,cAAc,EAAC,eAAe;cAC9B/H,CAAC,EAAEsE,QAAQ,GAAG,CAAC,GAAG,GAAG;cACrBkD,MAAM,EAAC,CAAC;cAAEC,WAAW,EAAC,uBAAuB;cAC7CqB,OAAO,EAAC,uBAAuB;cAC/BC,aAAa,EAAC,MAAM;cACpBpB,YAAY,EAAE,CAAC;cACfqB,SAAS,EAAE;YACb,CAAE;YAAAnB,QAAA,gBAEFnO,OAAA,CAACtB,KAAK;cAAC0P,SAAS,EAAC,KAAK;cAACE,UAAU,EAAC,QAAQ;cAACS,GAAG,EAAE,IAAK;cAACnB,EAAE,EAAE;gBAAE2B,QAAQ,EAAE;cAAE,CAAE;cAAApB,QAAA,gBACxEnO,OAAA,CAAC1B,GAAG;gBAACsP,EAAE,EAAE;kBAAE4B,KAAK,EAAC,EAAE;kBAAEC,MAAM,EAAC,EAAE;kBAAEL,OAAO,EAAEjP,WAAW,CAAC2G,CAAC,CAAC+F,IAAI,CAAC,IAAE,MAAM;kBAAEoB,YAAY,EAAC,KAAK;kBAAEyB,UAAU,EAAC;gBAAE;cAAE;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC5G5O,OAAA,CAACrB,UAAU;gBACTiP,EAAE,EAAE;kBACFY,UAAU,EAAC,GAAG;kBACdmB,aAAa,EAAC,EAAE;kBAChBC,QAAQ,EAAC,QAAQ;kBACjBC,YAAY,EAAC,UAAU;kBACvBC,UAAU,EAAC,QAAQ;kBACnBC,QAAQ,EAAEnF,QAAQ,GAAG,MAAM,GAAG,OAAO;kBACrCoF,KAAK,EAAC;gBACR,CAAE;gBAAA7B,QAAA,GACDrH,CAAC,CAACiG,IAAI,EAAC,KAAG,EAACjG,CAAC,CAAC+F,IAAI;cAAA;gBAAA4B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eAER5O,OAAA,CAACtB,KAAK;cAAC0P,SAAS,EAAC,KAAK;cAACE,UAAU,EAAC,QAAQ;cAACS,GAAG,EAAE,CAAE;cAACnB,EAAE,EAAE;gBAAE8B,UAAU,EAAC;cAAE,CAAE;cAAAvB,QAAA,gBACtEnO,OAAA,CAACJ,kBAAkB;gBAACqQ,QAAQ,EAAC,OAAO;gBAACrC,EAAE,EAAE;kBAAEoB,OAAO,EAAC;gBAAG;cAAE;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC3D5O,OAAA,CAACrB,UAAU;gBAAC4P,OAAO,EAAC,OAAO;gBAACX,EAAE,EAAE;kBAAEoB,OAAO,EAAC;gBAAG,CAAE;gBAAAb,QAAA,EAAExL,OAAO,CAACmE,CAAC,CAAC6E,OAAO;cAAC;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAa,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5E,CAAC;UAAA,GAhCHK,GAAG;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAiCF,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAEX;;EAEA;EACA,oBACE5O,OAAA,CAAC1B,GAAG;IAAA6P,QAAA,gBAEFnO,OAAA,CAACtB,KAAK;MACJwR,GAAG,EAAEnF,UAAW;MAChBqD,SAAS,EAAC,KAAK;MACfE,UAAU,EAAC,QAAQ;MACnBS,GAAG,EAAE,CAAE;MACPnB,EAAE,EAAE;QACFI,EAAE,EAAC,CAAC;QACJmC,QAAQ,EAAE,QAAQ;QAClB/D,GAAG,EAAE,CAAC;QACNgE,MAAM,EAAE,CAAC;QACThB,OAAO,EAAE,aAAa;QACtBiB,EAAE,EAAE;MACN,CAAE;MAAAlC,QAAA,gBAEFnO,OAAA,CAACf,UAAU;QAACiQ,OAAO,EAAEA,CAAA,KAAKlF,SAAS,CAACvG,QAAQ,CAACyC,MAAM,EAAC,CAAC,CAAC,CAAC,CAAE;QAAAiI,QAAA,eAACnO,OAAA,CAACP,eAAe;UAAAgP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACzF5O,OAAA,CAACrB,UAAU;QAAC4P,OAAO,EAAE3D,QAAQ,GAAG,IAAI,GAAC,IAAK;QAACgD,EAAE,EAAE;UAAE+B,aAAa,EAAC,CAAC;UAAEW,IAAI,EAAC;QAAE,CAAE;QAAAnC,QAAA,GAAC,UAClE,EAAC1L,SAAS,CAACuI,MAAM,CAACC,IAAI,CAAC,EAAC,GAAC,EAACD,MAAM,CAACC,IAAI,CAACzH,OAAO,CAAC,CAAC,EAAC,IAAE,EAACwH,MAAM,CAACC,IAAI,CAAC3H,WAAW,CAAC,CAAC;MAAA;QAAAmL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1E,CAAC,eACb5O,OAAA,CAACR,OAAO;QAAC+Q,KAAK,EAAC,sBAAsB;QAAApC,QAAA,eACnCnO,OAAA,CAACf,UAAU;UAACiQ,OAAO,EAAEA,CAAA,KAAKlF,SAAS,CAACpG,WAAW,CAAC,IAAIf,IAAI,CAAC,CAAC,CAAC,CAAE;UAAAsL,QAAA,eAACnO,OAAA,CAACH,SAAS;YAAA4O,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChF,CAAC,eACV5O,OAAA,CAACf,UAAU;QAACiQ,OAAO,EAAEA,CAAA,KAAKlF,SAAS,CAACvG,QAAQ,CAACyC,MAAM,EAAC,CAAC,CAAC,CAAE;QAAAiI,QAAA,eAACnO,OAAA,CAACN,gBAAgB;UAAA+O,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpF,CAAC,EAGPhE,QAAQ,iBACP5K,OAAA,CAACT,gBAAgB;MACfqO,EAAE,EAAE;QAAEI,EAAE,EAAC;MAAE,CAAE;MACbwC,OAAO,eACLxQ,OAAA,CAACV,MAAM;QACLmR,OAAO,EAAEhG,aAAc;QACvBiG,QAAQ,EAAEA,CAACC,CAAC,EAACC,CAAC,KAAIlG,gBAAgB,CAACkG,CAAC,CAAE;QACtCZ,KAAK,EAAC,WAAW;QACjBnB,IAAI,EAAC;MAAO;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CACF;MACDE,KAAK,eAAE9O,OAAA,CAACrB,UAAU;QAAC4P,OAAO,EAAC,OAAO;QAAAJ,QAAA,EAAC;MAAe;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjE,CACF,EAEArJ,IAAI,KAAK,IAAI,gBACZvF,OAAA,CAACtB,KAAK;MAAC4P,UAAU,EAAC,QAAQ;MAACV,EAAE,EAAE;QAAEiD,EAAE,EAAC,CAAC;QAAE7B,OAAO,EAAC;MAAG,CAAE;MAAAb,QAAA,gBAClDnO,OAAA,CAACb,gBAAgB;QAAC0P,IAAI,EAAE;MAAG;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC9B5O,OAAA,CAACrB,UAAU;QAACiP,EAAE,EAAE;UAAEkD,EAAE,EAAC;QAAE,CAAE;QAAA3C,QAAA,EAAC;MAAiB;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC,gBAER5O,OAAA,CAAAE,SAAA;MAAAiO,QAAA,EACGvD,QAAQ;MAAA;MACP;MACA5K,OAAA,CAAC1B,GAAG;QAAA6P,QAAA,EACD7C,IAAI,CAACjG,GAAG,CAAEhD,CAAC,iBAAIrC,OAAA,CAAC0N,OAAO;UAAUrL,CAAC,EAAEA;QAAE,GAAT,CAACA,CAAC;UAAAoM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC;MAAA;MAEN;MACA5O,OAAA,CAACtB,KAAK;QACJ0P,SAAS,EAAC,KAAK;QACfW,GAAG,EAAE,CAAE;QACPnB,EAAE,EAAE;UAAEmD,OAAO,EAAC,MAAM;UAAEC,mBAAmB,EAAC,UAAU1F,IAAI,CAACS,MAAM;QAAS,CAAE;QAAAoC,QAAA,EAEzE7C,IAAI,CAACjG,GAAG,CAAEhD,CAAC,iBAAIrC,OAAA,CAAC0N,OAAO;UAAUrL,CAAC,EAAEA;QAAE,GAAT,CAACA,CAAC;UAAAoM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC;IACR,gBACD,CACH,eAED5O,OAAA,CAACpB,MAAM;MAACqS,MAAM,EAAC,OAAO;MAACC,IAAI,EAAE,CAAC,CAACjH,QAAS;MAACkH,OAAO,EAAEA,CAAA,KAAKjH,WAAW,CAAC,IAAI,CAAE;MAAAiE,QAAA,eACvEnO,OAAA,CAAC1B,GAAG;QAACsP,EAAE,EAAE;UAAE4B,KAAK,EAAE,GAAG;UAAElJ,CAAC,EAAC;QAAE,CAAE;QAAA6H,QAAA,gBAC3BnO,OAAA,CAACtB,KAAK;UAAC0P,SAAS,EAAC,KAAK;UAACC,cAAc,EAAC,eAAe;UAACC,UAAU,EAAC,QAAQ;UAACV,EAAE,EAAE;YAAEI,EAAE,EAAC;UAAE,CAAE;UAAAG,QAAA,gBACrFnO,OAAA,CAACrB,UAAU;YAAC4P,OAAO,EAAC,IAAI;YAAAJ,QAAA,EAAC;UAAY;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAClD5O,OAAA,CAACf,UAAU;YAACiQ,OAAO,EAAEA,CAAA,KAAKhF,WAAW,CAAC,IAAI,CAAE;YAAAiE,QAAA,eAACnO,OAAA,CAACL,SAAS;cAAA8O,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClE,CAAC,eACR5O,OAAA,CAACnB,OAAO;UAAC+O,EAAE,EAAE;YAAEI,EAAE,EAAC;UAAE;QAAE;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAExB3E,QAAQ,iBACPjK,OAAA,CAAAE,SAAA;UAAAiO,QAAA,gBACEnO,OAAA,CAACrB,UAAU;YAAC4P,OAAO,EAAC,IAAI;YAACX,EAAE,EAAE;cAAEI,EAAE,EAAC;YAAE,CAAE;YAAAG,QAAA,GACnClE,QAAQ,CAACnD,CAAC,CAACiG,IAAI,EAAC,KAAG,EAAC9C,QAAQ,CAACnD,CAAC,CAAC+F,IAAI;UAAA;YAAA4B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACb5O,OAAA,CAACrB,UAAU;YAACiP,EAAE,EAAE;cAAEI,EAAE,EAAC;YAAE,CAAE;YAAAG,QAAA,EAAE,IAAItL,IAAI,CAACoH,QAAQ,CAACnD,CAAC,CAAC6E,OAAO,CAAC,CAACyF,cAAc,CAAC;UAAC;YAAA3C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAa,CAAC,eACtF5O,OAAA,CAACtB,KAAK;YAAC0P,SAAS,EAAC,KAAK;YAACW,GAAG,EAAE,CAAE;YAACnB,EAAE,EAAE;cAAEI,EAAE,EAAC;YAAE,CAAE;YAAAG,QAAA,GACzClE,QAAQ,CAACnD,CAAC,CAACuK,IAAI,iBAAIrR,OAAA,CAACvB,IAAI;cAACoQ,IAAI,EAAC,OAAO;cAACC,KAAK,EAAE,QAAQ7E,QAAQ,CAACnD,CAAC,CAACuK,IAAI;YAAG;cAAA5C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAC1E3E,QAAQ,CAACnD,CAAC,CAACwK,EAAE,iBAAItR,OAAA,CAACvB,IAAI;cAACoQ,IAAI,EAAC,OAAO;cAACC,KAAK,EAAE7E,QAAQ,CAACnD,CAAC,CAACwK;YAAG;cAAA7C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eAGR5O,OAAA,CAAC1B,GAAG;YAACsP,EAAE,EAAE;cAAE2D,EAAE,EAAC;YAAE,CAAE;YAAApD,QAAA,gBAChBnO,OAAA,CAACrB,UAAU;cAAC4P,OAAO,EAAC,WAAW;cAACX,EAAE,EAAE;gBAAEI,EAAE,EAAC;cAAK,CAAE;cAAAG,QAAA,EAAC;YAEjD;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,EAEZvE,WAAW,iBAAIrK,OAAA,CAACX,cAAc;cAACuO,EAAE,EAAE;gBAAE6B,MAAM,EAAC,CAAC;gBAAExB,YAAY,EAAC;cAAE;YAAE;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAEnE,CAACvE,WAAW,IAAIF,IAAI,iBACnBnK,OAAA,CAAAE,SAAA;cAAAiO,QAAA,gBACEnO,OAAA,CAACtB,KAAK;gBAAC0P,SAAS,EAAC,KAAK;gBAACE,UAAU,EAAC,QAAQ;gBAACD,cAAc,EAAC,eAAe;gBAACT,EAAE,EAAE;kBAAEI,EAAE,EAAC;gBAAI,CAAE;gBAAAG,QAAA,gBACvFnO,OAAA,CAACrB,UAAU;kBAAC4P,OAAO,EAAC,OAAO;kBAAAJ,QAAA,EAAElE,QAAQ,CAACnD,CAAC,CAAC+F;gBAAI;kBAAA4B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAa,CAAC,eAC1D5O,OAAA,CAACrB,UAAU;kBAAC4P,OAAO,EAAC,OAAO;kBAACX,EAAE,EAAE;oBAAEY,UAAU,EAAC;kBAAI,CAAE;kBAAAL,QAAA,GAChD,CAAChE,IAAI,CAAC0C,IAAI,GAAG,GAAG,EAAE2E,OAAO,CAAC,CAAC,CAAC,EAAC,GAChC;gBAAA;kBAAA/C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC,eACR5O,OAAA,CAACX,cAAc;gBACbkP,OAAO,EAAC,aAAa;gBACrBkD,KAAK,EAAEhI,IAAI,CAACiI,GAAG,CAAC,CAAC,EAAEjI,IAAI,CAACkI,GAAG,CAAC,GAAG,EAAExH,IAAI,CAAC0C,IAAI,GAAG,GAAG,CAAC,CAAE;gBACnDe,EAAE,EAAE;kBAAE6B,MAAM,EAAC,EAAE;kBAAExB,YAAY,EAAC;gBAAE;cAAE;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC,eACF5O,OAAA,CAACrB,UAAU;gBAAC4P,OAAO,EAAC,SAAS;gBAACX,EAAE,EAAE;kBAAEmD,OAAO,EAAC,OAAO;kBAAED,EAAE,EAAC,GAAG;kBAAE9B,OAAO,EAAC;gBAAG,CAAE;gBAAAb,QAAA,EACvE5D;cAAQ;gBAAAkE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA,eACb,CACH,EAEA,CAACvE,WAAW,IAAIF,IAAI,KAAK,IAAI,iBAC5BnK,OAAA,CAACrB,UAAU;cAAC4P,OAAO,EAAC,OAAO;cAACX,EAAE,EAAE;gBAAEoB,OAAO,EAAC;cAAG,CAAE;cAAAb,QAAA,EAAC;YAEhD;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CACb;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAEN5O,OAAA,CAAClB,IAAI;YAAC8S,KAAK;YAAAzD,QAAA,GACRlE,QAAQ,CAACnD,CAAC,CAAC+K,KAAK,iBACf7R,OAAA,CAACjB,QAAQ;cAAAoP,QAAA,eAACnO,OAAA,CAAChB,YAAY;gBAAC8S,OAAO,EAAC,OAAO;gBAACC,SAAS,EAAE9H,QAAQ,CAACnD,CAAC,CAAC+K;cAAM;gBAAApD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAClF,EACA,CAAC3E,QAAQ,CAACnD,CAAC,CAACkL,IAAI,IAAI/H,QAAQ,CAACnD,CAAC,CAACmL,KAAK,kBACnCjS,OAAA,CAACjB,QAAQ;cAAAoP,QAAA,eAACnO,OAAA,CAAChB,YAAY;gBAAC8S,OAAO,EAAC,UAAU;gBAACC,SAAS,EAAE,IAAAlI,gBAAA,GAAGI,QAAQ,CAACnD,CAAC,CAACkL,IAAI,cAAAnI,gBAAA,cAAAA,gBAAA,GAAE,EAAE,KAAAC,iBAAA,GAAIG,QAAQ,CAACnD,CAAC,CAACmL,KAAK,cAAAnI,iBAAA,cAAAA,iBAAA,GAAE,EAAE,EAAE,CAACvF,IAAI,CAAC;cAAE;gBAAAkK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAC5H;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA,eACP,CACH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAChF,EAAA,CA1UuBD,mBAAmB;EAAA,QAa3B7J,QAAQ,EACLV,aAAa;AAAA;AAAA8S,EAAA,GAdRvI,mBAAmB;AAAA,IAAAuI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}